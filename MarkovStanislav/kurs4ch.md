<div align="center">

<h4>Министерство образования, науки и молодежной политики Республики Коми</h4>
<h4>ГПОУ «Сыктывкарский политехнический техникум»</h4>

<br>

<h2>Курсовая работа</h2>

<br>

<h2>Разработка базы данных для учета домашних финансов</h2>

<br>

</div>

<br><br>

<div align="right">

<b>выполнил:</b><br>
студент 4 курса<br>
414 группы<br>
Марков Станислав Леонидович

<br><br>

<b>проверил:</b><br>
Пунгин И.В.

<br><br>

<b>дата проверки:</b> ___________

</div>

<br><br><br>

<div align="center">
Сыктывкар, 2025 г.
</div>

---
<h2>Содержание</h2>

<ul>
  <li><a href="#введение">Введение</a></li>
  <li>
    <a href="#1-анализ-предметной-области-постановка-задачи">
      1. Анализ предметной области. Постановка задачи
    </a>
    <ul>
      <li>
        <a href="#11-описание-предметной-области-и-функции-решаемых-задач">
          1.1. Описание предметной области и функции решаемых задач
        </a>
      </li>
      <li>
        <a href="#12-перечень-входных-данных">
          1.2. Перечень входных данных
        </a>
      </li>
      <li>
        <a href="#13-перечень-выходных-данных">
          1.3. Перечень выходных данных
        </a>
      </li>
      <li>
        <a href="#14-ограничения-предметной-области-если-таковые-имеются">
          1.4. Ограничения предметной области (если таковые имеются)
        </a>
      </li>
      <li>
        <a href="#15-взаимодействие-с-другими-программами">
          1.5. Взаимодействие с другими программами
        </a>
      </li>
    </ul>
  </li>

  <li>
    <a href="#2-инфологическая-концептуальная-модель-базы-данных">
      2. Инфологическая (концептуальная) модель базы данных
    </a>
    <ul>
      <li>
        <a href="#21-выделение-информационных-объектов">
          2.1. Выделение информационных объектов
        </a>
      </li>
      <li>
        <a href="#22-определение-атрибутов-объектов">
          2.2. Определение атрибутов объектов
        </a>
      </li>
      <li>
        <a href="#23-определение-отношений-и-мощности-отношений-между-объектами">
          2.3. Определение отношений и мощности отношений между объектами
        </a>
      </li>
      <li>
        <a href="#24-построение-концептуальной-модели">
          2.4. Построение концептуальной модели
        </a>
      </li>
    </ul>
  </li>

  <li><a href="#3-логическая-структура-бд">3. Логическая структура БД</a></li>
  <li><a href="#4-физическая-структура-базы-данных">4. Физическая структура базы данных</a></li>

  <li>
    <a href="#5-реализация-проекта-в-среде-конкретной-субд">
      5. Реализация проекта в среде конкретной СУБД
    </a>
    <ul>
      <li><a href="#51-создание-таблиц">5.1. Создание таблиц</a></li>
      <li><a href="#52-создание-запросов">5.2. Создание запросов</a></li>
      <li><a href="#53-разработка-интерфейса">5.3. Разработка интерфейса</a></li>
      <li><a href="#54-назначение-прав-доступа">5.4. Назначение прав доступа</a></li>
      <li><a href="#55-создание-индексов">5.5. Создание индексов</a></li>
      <li>
        <a href="#56-разработка-стратегии-резервного-копирования-базы-данных">
          5.6. Разработка стратегии резервного копирования базы данных
        </a>
      </li>
    </ul>
  </li>

  <li><a href="#заключение">Заключение</a></li>
  <li><a href="#список-использованных-источников">Список использованных источников</a></li>
</ul>

---

<h2 id="введение">Введение</h2>

<p>
В современных условиях активного развития информационных технологий возрастает
необходимость автоматизации процессов хранения и обработки информации.
Одной из актуальных задач является организация учёта личных и домашних финансов,
позволяющая пользователям контролировать движение денежных средств, анализировать
доходы и расходы, а также планировать бюджет.
</p>

<p>
Использование информационных систем для учёта финансовых операций способствует
повышению финансовой грамотности и упрощает процесс принятия управленческих
решений. Ключевым элементом таких систем является база данных, обеспечивающая
надёжное хранение информации, её целостность и удобство последующей обработки.
</p>

<p>
Целью данной курсовой работы является проектирование и реализация базы данных
для системы учёта домашних финансов с использованием системы управления базами
данных PostgreSQL.
</p>

<p>
Для достижения поставленной цели в курсовой работе необходимо решить следующие
задачи:
</p>

<ul>
  <li>изучить предметную область учёта домашних финансов;</li>
  <li>выделить основные информационные объекты и их характеристики;</li>
  <li>определить связи между объектами предметной области;</li>
  <li>разработать инфологическую, логическую и физическую структуры базы данных;</li>
  <li>реализовать проект базы данных в среде СУБД PostgreSQL.</li>
</ul>

<p>
Объектом исследования является система учёта домашних финансов.
Предметом исследования — методы и средства проектирования базы данных для хранения
и обработки информации о финансовых операциях.
</p>

<br>


<h2 id="1-анализ-предметной-области-постановка-задачи">
  1. Анализ предметной области. Постановка задачи
</h2>

<h3 id="11-описание-предметной-области-и-функции-решаемых-задач">
  1.1. Описание предметной области и функции решаемых задач
</h3>

<p>
Современные цифровые технологии позволяют пользователям эффективно контролировать
движение личных денежных средств, планировать расходы, выявлять финансовые привычки
и принимать более взвешенные решения. Однако большинство распространённых
инструментов либо переусложнены, либо требуют постоянного подключения к
интернет-сервисам, что неудобно при необходимости локального хранения данных.
</p>

<p>
Предметная область данной курсовой работы — персональный учёт домашних финансов.
Разрабатываемая система предназначена для хранения и анализа данных о доходах,
расходах, переводах между счетами, а также для планирования бюджета и формирования
отчётов.
</p>

<p>
Система должна решать следующие основные задачи:
</p>

<ul>
  <li>учёт финансовых операций (доходов, расходов и переводов);</li>
  <li>ведение нескольких счетов пользователя;</li>
  <li>классификация операций по категориям;</li>
  <li>планирование бюджета по категориям расходов;</li>
  <li>формирование аналитических отчётов за выбранный период.</li>
</ul>

<p>
Данная курсовая работа посвящена разработке базы данных для системы учёта домашних
финансов с использованием СУБД PostgreSQL. База данных служит основой для дальнейшего
создания программного приложения или веб-интерфейса.
</p>

<p>
Ведение учёта домашних финансов позволяет пользователю получить целостное
представление о структуре личного бюджета, выявить основные статьи доходов
и расходов, а также определить направления, требующие оптимизации.
Отсутствие систематизированного подхода к хранению финансовых данных может
приводить к неконтролируемым тратам и затруднять анализ финансового состояния.
</p>

<p>
Проектируемая база данных предназначена для хранения информации о финансовых
операциях пользователя в структурированном виде. Она обеспечивает возможность
накопления данных за длительный период времени, что позволяет анализировать
финансовую активность в динамике, выявлять закономерности и формировать отчёты.
</p>

<p>
К основным функциям разрабатываемой системы относятся регистрация доходных и
расходных операций, классификация операций по категориям, хранение информации
о дате и сумме операции, а также предоставление данных для последующего анализа
и визуализации.
</p>

<p>
Использование базы данных в системе учёта домашних финансов повышает надёжность
хранения информации и снижает вероятность потери данных по сравнению с
использованием неструктурированных средств, таких как электронные таблицы
или бумажные носители.
</p>


<h3 id="12-перечень-входных-данных">
  1.2. Перечень входных данных
</h3>


<p>
Входными данными для разрабатываемой системы являются сведения, вводимые
пользователем и используемые для хранения в базе данных.
</p>

<p>
К входным данным относятся:
</p>

<ul>
  <li>данные о пользователе системы;</li>
  <li>сведения о финансовых счетах и их начальных остатках;</li>
  <li>информация о валютах, используемых в системе;</li>
  <li>категории доходов и расходов;</li>
  <li>данные о контрагентах (магазины, организации, физические лица);</li>
  <li>данные о финансовых операциях (дата, сумма, тип, категория, счёт);</li>
  <li>параметры бюджета и повторяющихся операций;</li>
  <li>пути к прикреплённым файлам (чеки, изображения).</li>
</ul>

<p>
Входные данные вводятся пользователем в процессе работы с системой и
представляют собой информацию, необходимую для регистрации финансовых операций.
Корректность и полнота вводимых данных напрямую влияет на точность последующего
анализа и формируемых отчётов.
</p>

<p>
Каждая финансовая операция сопровождается обязательным указанием суммы и даты,
что позволяет учитывать временной аспект движения денежных средств. Кроме того,
пользователь может указывать категорию операции, тип операции (доход или расход)
и дополнительные комментарии.
</p>

<p>
Ввод данных может осуществляться как вручную, так и с использованием
пользовательского интерфейса прикладной программы, взаимодействующей с базой
данных. При этом система должна обеспечивать проверку корректности вводимых
значений и предотвращать ввод некорректных данных.
</p>


<h3 id="13-перечень-выходных-данных">
  1.3. Перечень выходных данных
</h3>


<p>
Выходными данными системы являются результаты обработки информации, хранящейся в
базе данных, а также различные аналитические отчёты.
</p>

<p>
К выходным данным относятся:
</p>

<ul>
  <li>текущий баланс по каждому счёту пользователя;</li>
  <li>общий финансовый баланс;</li>
  <li>отчёты о доходах и расходах за выбранный период;</li>
  <li>отчёты о расходах по категориям;</li>
  <li>информация о выполнении бюджета;</li>
  <li>журнал финансовых операций.</li>
</ul>

<p>
Выходные данные формируются на основе информации, хранящейся в базе данных,
и предоставляются пользователю в виде выборок, отчётов и аналитических данных.
Они позволяют оценить текущее финансовое состояние и структуру расходов и доходов.
</p>

<p>
К числу выходных данных относятся отчёты по доходам и расходам за выбранный
период времени, сводные данные по категориям, а также агрегированные показатели,
такие как общая сумма доходов и расходов.
</p>

<p>
Полученные выходные данные могут использоваться для дальнейшего анализа,
планирования бюджета и принятия решений, направленных на оптимизацию
финансовой деятельности пользователя.
</p>


<h3 id="14-ограничения-предметной-области-если-таковые-имеются">
  1.4. Ограничения предметной области (если таковые имеются)
</h3>


<p>
При разработке системы учёта домашних финансов необходимо учитывать ряд
ограничений, обусловленных спецификой предметной области.
</p>

<ul>
  <li>Суммы финансовых операций должны иметь положительное или отрицательное значение
      в зависимости от типа операции.</li>
  <li>Каждая транзакция должна быть связана с конкретным счётом пользователя.</li>
  <li>Категории доходов и расходов не могут быть удалены при наличии связанных с ними
      транзакций.</li>
  <li>Для обеспечения корректности данных используются ограничения целостности
      (первичные и внешние ключи).</li>
  <li>Хранение файлов осуществляется вне базы данных, в базе сохраняются только пути
      к ним.</li>
</ul>

<p>
В рамках данной курсовой работы рассматривается система учёта домашних финансов
одного пользователя без поддержки коллективного доступа и распределённого
использования. Это упрощает структуру базы данных и соответствует поставленным
учебным задачам.
</p>

<p>
Также предполагается, что все финансовые операции вводятся пользователем
самостоятельно и не требуют автоматической загрузки данных из внешних
банковских или платёжных систем.
</p>

<p>
Ограничения предметной области позволяют сосредоточиться на проектировании
структуры базы данных и отработке основных принципов её построения без
излишнего усложнения системы.
</p>

<h3 id="15-взаимодействие-с-другими-программами">
  1.5. Взаимодействие с другими программами
</h3>


<p>
Разрабатываемая база данных может взаимодействовать с другими программными
системами посредством импорта и экспорта данных.
</p>

<p>
Предусматривается возможность:
</p>

<ul>
  <li>импорта данных из файлов формата CSV (например, банковские выписки);</li>
  <li>экспорта отчётов в табличные форматы для последующей обработки;</li>
  <li>использования базы данных в составе настольного или веб-приложения;</li>
  <li>подключения внешних программных модулей через SQL-запросы.</li>
</ul>

<p>
Разрабатываемая база данных может использоваться в составе прикладного
программного обеспечения, предназначенного для учёта домашних финансов.
Взаимодействие с пользователем осуществляется через интерфейс прикладной
программы, которая передаёт данные в базу данных и получает результаты запросов.
</p>

<p>
База данных может быть интегрирована с настольными или веб-приложениями,
разработанными с использованием современных средств программирования.
Обмен данными осуществляется с применением стандартных механизмов доступа
к СУБД PostgreSQL.
</p>

<p>
Такой подход обеспечивает возможность дальнейшего расширения функциональности
системы без необходимости изменения структуры базы данных.
</p>


<br>

<h2 id="2-инфологическая-концептуальная-модель-базы-данных">
  2. Инфологическая (концептуальная) модель базы данных
</h2>


<h3 id="21-выделение-информационных-объектов">2.1. Выделение информационных объектов</h3>

<p>
На основе анализа предметной области, выполненного в разделе 1, были выделены
основные информационные объекты, необходимые для реализации системы учёта
домашних финансов. Каждый информационный объект отражает отдельную сущность
предметной области и используется для хранения определённого набора данных.
</p>

<p>
В результате анализа были выделены следующие информационные объекты:
</p>

<ul>
  <li>Пользователь;</li>
  <li>Счёт;</li>
  <li>Валюта;</li>
  <li>Категория;</li>
  <li>Контрагент;</li>
  <li>Транзакция;</li>
  <li>Бюджет;</li>
  <li>Повторяющаяся транзакция;</li>
  <li>Вложение.</li>
</ul>

<p>
Выделение данных объектов позволяет описать все основные процессы,
связанные с учётом финансовых операций пользователя.
</p>

<p>
На этапе выделения информационных объектов производится анализ предметной
области с целью определения основных сущностей, информация о которых должна
храниться в базе данных. Каждый информационный объект отражает реальный объект
или процесс, имеющий значение для системы учёта домашних финансов.
</p>

<p>
Выделенные информационные объекты формируют основу концептуальной модели базы
данных и позволяют структурировать информацию в логически связанные группы.
Правильное определение объектов является важным этапом проектирования, так как
ошибки на данном этапе могут привести к усложнению структуры базы данных и
затруднить дальнейшую реализацию системы.
</p>

<p>
В рамках разрабатываемой системы информационные объекты выбираются таким образом,
чтобы обеспечить хранение всех необходимых данных о финансовых операциях
пользователя, а также возможность их дальнейшего анализа и обработки.
</p>

<h3 id="22-определение-атрибутов-объектов">2.2. Определение атрибутов объектов</h3>

<p>
Каждый информационный объект характеризуется набором атрибутов, которые
определяют его свойства и используются для хранения данных в базе данных.
</p>

<p><strong>Объект «Пользователь»</strong> включает следующие атрибуты:</p>
<ul>
  <li>идентификатор пользователя;</li>
  <li>имя пользователя;</li>
  <li>пароль (в зашифрованном виде);</li>
  <li>адрес электронной почты;</li>
  <li>дата создания учётной записи.</li>
</ul>

<p><strong>Объект «Счёт»</strong> включает следующие атрибуты:</p>
<ul>
  <li>идентификатор счёта;</li>
  <li>владелец счёта;</li>
  <li>наименование счёта;</li>
  <li>тип счёта;</li>
  <li>валюта счёта;</li>
  <li>начальный баланс.</li>
</ul>

<p><strong>Объект «Валюта»</strong> включает следующие атрибуты:</p>
<ul>
  <li>код валюты;</li>
  <li>наименование валюты;</li>
  <li>символ валюты.</li>
</ul>

<p><strong>Объект «Категория»</strong> включает следующие атрибуты:</p>
<ul>
  <li>идентификатор категории;</li>
  <li>наименование категории;</li>
  <li>тип категории (доход или расход);</li>
  <li>родительская категория.</li>
</ul>

<p><strong>Объект «Контрагент»</strong> включает следующие атрибуты:</p>
<ul>
  <li>идентификатор контрагента;</li>
  <li>наименование контрагента;</li>
  <li>владелец записи.</li>
</ul>

<p><strong>Объект «Операция»</strong> включает следующие атрибуты:</p>
<ul>
  <li>идентификатор транзакции;</li>
  <li>пользователь;</li>
  <li>счёт;</li>
  <li>связанный счёт (для переводов);</li>
  <li>категория;</li>
  <li>контрагент;</li>
  <li>валюта;</li>
  <li>сумма;</li>
  <li>тип операции;</li>
  <li>дата операции;</li>
  <li>описание.</li>
</ul>

<p><strong>Объект «Бюджет»</strong> включает следующие атрибуты:</p>
<ul>
  <li>идентификатор бюджета;</li>
  <li>пользователь;</li>
  <li>категория;</li>
  <li>период действия;</li>
  <li>лимит расходов.</li>
</ul>

<p><strong>Объект «Повторяющаяся транзакция»</strong> включает следующие атрибуты:</p>
<ul>
  <li>идентификатор операции;</li>
  <li>пользователь;</li>
  <li>счёт;</li>
  <li>категория;</li>
  <li>сумма;</li>
  <li>периодичность выполнения;</li>
  <li>дата следующего выполнения.</li>
</ul>

<p><strong>Объект «Вложение»</strong> включает следующие атрибуты:</p>
<ul>
  <li>идентификатор вложения;</li>
  <li>связанная транзакция;</li>
  <li>путь к файлу;</li>
  <li>дата добавления.</li>
</ul>

<p>
После выделения информационных объектов осуществляется определение их атрибутов.
Атрибуты представляют собой характеристики объектов и описывают свойства,
которые необходимо хранить в базе данных.
</p>

<p>
Для каждого информационного объекта выбирается минимально необходимый набор
атрибутов, обеспечивающий полноту представления данных и исключающий
избыточность информации. Такой подход позволяет упростить структуру базы данных
и повысить эффективность её использования.
</p>

<p>
При определении атрибутов учитываются требования целостности данных, а также
возможность расширения функциональности системы в будущем. Атрибуты выбираются
таким образом, чтобы обеспечить гибкость системы и возможность добавления новых
видов аналитических данных без существенных изменений структуры базы данных.
</p>


<h3 id="23-определение-отношений-и-мощности-отношений-между-объектами">
  2.3. Определение отношений и мощности отношений между объектами
</h3>

<p>
Между выделенными информационными объектами существуют определённые
отношения, характеризующие взаимодействие сущностей предметной области.
</p>

<ul>
  <li>Один пользователь может иметь несколько счетов (отношение 1:N).</li>
  <li>Один пользователь может создавать множество транзакций (1:N).</li>
  <li>Один счёт может участвовать во множестве транзакций (1:N).</li>
  <li>Каждая транзакция относится к одной категории (N:1).</li>
  <li>Категории образуют иерархическую структуру (1:N).</li>
  <li>Один контрагент может быть связан с несколькими транзакциями (1:N).</li>
  <li>Один бюджет относится к одной категории, при этом категория может иметь
      несколько бюджетов (1:N).</li>
  <li>Одна транзакция может иметь несколько вложений (1:N).</li>
</ul>

<p>
Определение отношений и их мощностей необходимо для корректного построения
концептуальной модели базы данных.
</p>

<p>
Информационные объекты, выделенные в предметной области, находятся во
взаимосвязи друг с другом. Для корректного функционирования базы данных
необходимо определить типы отношений между объектами и их мощности.
</p>

<p>
Мощность отношений определяет количество экземпляров одного объекта, связанных
с экземплярами другого объекта. В системе учёта домашних финансов наиболее
распространённым является отношение типа «один-ко-многим», например между
категорией и финансовыми операциями.
</p>

<p>
Определение отношений между объектами позволяет обеспечить логическую целостность
данных и корректную организацию связей в базе данных. На основе этих отношений
в дальнейшем формируются внешние ключи в логической модели базы данных.
</p>

<h3 id="24-построение-концептуальной-модели">2.4. Построение концептуальной модели</h3>

<p>
На основе выделенных информационных объектов, их атрибутов и определённых
отношений была построена инфологическая (концептуальная) модель базы данных.
</p>

<p>
Концептуальная модель представляется в виде ER-диаграммы, которая наглядно
отображает структуру базы данных, сущности, их атрибуты, а также связи между ними.
</p>

<p>
Построенная концептуальная модель является основой для разработки логической
структуры базы данных и последующей физической реализации в среде СУБД
PostgreSQL.
</p>

<p>
На основе выделенных информационных объектов, их атрибутов и определённых
отношений строится концептуальная модель базы данных. Концептуальная модель
отражает структуру предметной области в абстрактной форме и не зависит от
конкретной реализации в СУБД.
</p>

<p>
Концептуальная модель позволяет наглядно представить взаимосвязи между объектами
и служит основой для разработки логической и физической моделей базы данных.
Использование концептуальной модели упрощает процесс проектирования и снижает
вероятность возникновения ошибок на последующих этапах разработки.
</p>

<p>
В рамках данной курсовой работы концептуальная модель базы данных описывается
в текстовой форме, что соответствует учебным целям и позволяет отразить
основные элементы структуры базы данных без использования специализированных
средств моделирования.
</p>

<h2 id="3-логическая-структура-бд">3. Логическая структура БД</h2>

<p>
Логическая структура базы данных представляет собой описание базы данных
в терминах реляционной модели и отражает способ организации данных в виде
взаимосвязанных таблиц. Логическая модель разрабатывается на основе
инфологической (концептуальной) модели и учитывает требования нормализации
данных.
</p>

<p>
В рамках данной курсовой работы логическая структура базы данных построена
с использованием реляционной модели, при которой данные хранятся в таблицах,
а связи между ними реализуются с помощью первичных и внешних ключей.
</p>

<p>
Разрабатываемая база данных включает следующие основные таблицы:
</p>

<ul>
  <li>users — таблица пользователей системы;</li>
  <li>accounts — таблица финансовых счетов;</li>
  <li>currency — справочник валют;</li>
  <li>categories — категории доходов и расходов;</li>
  <li>payees — контрагенты;</li>
  <li>operations — финансовые операции;</li>
  <li>budget — данные о бюджетах;</li>
  <li>recurring_operations — повторяющиеся операции;</li>
  <li>attachments — вложения, связанные с транзакциями.</li>
</ul>

<p>
Каждая таблица имеет первичный ключ, который однозначно идентифицирует запись.
Для обеспечения связности данных используются внешние ключи, ссылающиеся на
первичные ключи связанных таблиц.
</p>

<p>
В таблицах применяются ограничения целостности, такие как:
</p>

<ul>
  <li>ограничения первичных ключей;</li>
  <li>ограничения внешних ключей;</li>
  <li>ограничения уникальности;</li>
  <li>проверочные ограничения допустимых значений атрибутов.</li>
</ul>

<p>
Логическая структура базы данных приведена в соответствие с третьей нормальной
формой (3НФ), что позволяет устранить избыточность данных и обеспечить
целостность и согласованность информации.
</p>

<p>
Разработанная логическая модель является основой для построения физической
структуры базы данных и её последующей реализации в среде СУБД PostgreSQL.
</p>

<br>

<h2 id="4-физическая-структура-базы-данных">4. Физическая структура базы данных</h2>

<p>
Физическая структура базы данных описывает способ хранения данных в среде
конкретной системы управления базами данных. В рамках данной курсовой работы
физическая структура реализуется с использованием СУБД PostgreSQL.
</p>

<p>
При проектировании физической структуры базы данных были учтены требования
к надёжности хранения информации, производительности и обеспечению целостности
данных.
</p>

<p>
Для хранения данных используются таблицы, созданные в базе данных PostgreSQL.
Каждая таблица содержит определённый набор полей с указанием типов данных,
ограничений и связей с другими таблицами.
</p>

<p>
Основные особенности физической структуры базы данных:
</p>

<ul>
  <li>использование целочисленных первичных ключей с автоинкрементом;</li>
  <li>применение внешних ключей для обеспечения ссылочной целостности;</li>
  <li>использование числовых типов данных для хранения денежных значений;</li>
  <li>хранение дат и времени с использованием стандартных типов PostgreSQL;</li>
  <li>применение логических типов данных для флагов и признаков.</li>
</ul>

<p>
Для повышения производительности выполнения запросов в базе данных
предусматривается создание индексов по полям, наиболее часто используемым
в условиях выборки и сортировки данных.
</p>

<p>
Также в физической структуре базы данных используются ограничения CHECK и
уникальные ограничения, позволяющие предотвратить ввод некорректных данных.
</p>

<p>
Разработанная физическая структура базы данных обеспечивает надёжное хранение
данных, их целостность и эффективность обработки в рамках системы учёта
домашних финансов.
</p>

<br>

<h2 id="5-реализация-проекта-в-среде-конкретной-субд">
  5. Реализация проекта в среде конкретной СУБД
</h2>

<h3 id="51-создание-таблиц">5.1. Создание таблиц</h3>

<p>
Реализация базы данных для системы учёта домашних финансов выполнена в среде
системы управления базами данных PostgreSQL. На данном этапе производится
создание таблиц базы данных в соответствии с разработанной логической и
физической структурами.
</p>

<p>
Каждая таблица создаётся с использованием оператора CREATE TABLE и содержит
набор полей, соответствующих атрибутам информационных объектов, выделенных на
этапе инфологического проектирования.
</p>

<p>
В базе данных реализованы следующие основные таблицы:
</p>

<ul>
  <li>таблица пользователей системы;</li>
  <li>таблица финансовых счетов;</li>
  <li>справочник валют;</li>
  <li>таблица категорий доходов и расходов;</li>
  <li>таблица контрагентов;</li>
  <li>таблица финансовых транзакций;</li>
  <li>таблица бюджетов;</li>
  <li>таблица повторяющихся транзакций;</li>
  <li>таблица вложений.</li>
</ul>

<p>
Для каждой таблицы определён первичный ключ, который обеспечивает уникальную
идентификацию записей. В качестве первичных ключей используются целочисленные
поля с автоматической генерацией значений.
</p>

<p>
Связи между таблицами реализованы с помощью внешних ключей, которые обеспечивают
ссылочную целостность данных. Использование внешних ключей позволяет предотвратить
удаление или изменение записей, на которые существуют ссылки в других таблицах.
</p>

<p>
При создании таблиц используются ограничения целостности данных, включая:
</p>

<ul>
  <li>ограничения NOT NULL для обязательных полей;</li>
  <li>ограничения UNIQUE для уникальных значений;</li>
  <li>ограничения CHECK для контроля допустимых значений;</li>
  <li>ограничения внешних ключей для поддержания связей между таблицами.</li>
</ul>

<p>
Таким образом, на этапе создания таблиц была сформирована структурированная и
целостная база данных, готовая для заполнения данными и дальнейшей работы
в рамках системы учёта домашних финансов.
</p>

<br>

<h3 id="52-создание-запросов">5.2. Создание запросов</h3>

<p>
Для работы с данными в разработанной базе данных используются SQL-запросы,
обеспечивающие добавление, изменение, удаление и выборку информации.
Запросы реализуются с использованием стандартного языка SQL, поддерживаемого
СУБД PostgreSQL.
</p>

<p>
В процессе эксплуатации базы данных применяются следующие основные типы
SQL-запросов:
</p>

<ul>
  <li>запросы на добавление данных (INSERT);</li>
  <li>запросы на выборку данных (SELECT);</li>
  <li>запросы на изменение данных (UPDATE);</li>
  <li>запросы на удаление данных (DELETE).</li>
</ul>

<p>
Запросы на добавление данных используются для внесения информации о новых
пользователях, счетах, категориях, контрагентах и финансовых операциях.
</p>

<p>
Запросы на выборку данных применяются для формирования отчётов и анализа
финансовой информации пользователя. С их помощью осуществляется получение
данных о текущем балансе счетов, суммах доходов и расходов за выбранный период,
а также распределении расходов по категориям.
</p>

<p>
Запросы на изменение данных используются при необходимости корректировки
ранее введённой информации, например при изменении параметров счёта,
категории или финансовой операции.
</p>

<p>
Запросы на удаление данных позволяют удалять устаревшую или ошибочно введённую
информацию с учётом ограничений ссылочной целостности.
</p>

<p>
Для повышения удобства и эффективности работы с данными используются
много табличные запросы с соединениями (JOIN), а также агрегатные функции
SUM, COUNT и GROUP BY.
</p>

<p>
Таким образом, разработанные SQL-запросы обеспечивают полный набор операций
для работы с данными в системе учёта домашних финансов и позволяют получать
необходимую аналитическую информацию.
</p>

<br>

<h3 id="53-разработка-интерфейса">5.3. Разработка интерфейса</h3>

<p>
Разработка пользовательского интерфейса не является основной целью данной
курсовой работы, однако при проектировании базы данных учитывались требования
к удобству взаимодействия пользователя с системой.
</p>

<p>
Предполагается, что база данных может использоваться в составе настольного
или веб-приложения, обеспечивающего доступ к данным и выполнение основных
операций по учёту домашних финансов.
</p>

<p>
Пользовательский интерфейс должен обеспечивать выполнение следующих функций:
</p>

<ul>
  <li>ввод и редактирование данных о счетах, категориях и контрагентах;</li>
  <li>добавление, изменение и удаление финансовых операций;</li>
  <li>просмотр текущего баланса по счетам;</li>
  <li>формирование отчётов по доходам и расходам;</li>
  <li>отображение информации о выполнении бюджета.</li>
</ul>

<p>
Взаимодействие интерфейса с базой данных осуществляется посредством SQL-запросов,
реализующих операции добавления, изменения, удаления и выборки данных.
</p>

<p>
Таким образом, разработанная база данных обеспечивает возможность создания
удобного и функционального пользовательского интерфейса для системы учёта
домашних финансов.
</p>

<br>

<h3 id="54-назначение-прав-доступа">5.4. Назначение прав доступа</h3>

<p>
Для обеспечения безопасности данных и разграничения доступа к информации
в системе управления базами данных PostgreSQL используются механизмы
управления правами доступа.
</p>

<p>
В рамках разрабатываемой базы данных предусматривается разделение прав
доступа пользователей в зависимости от их ролей.
</p>

<p>
Основные права доступа включают:
</p>

<ul>
  <li>права на выборку данных (SELECT);</li>
  <li>права на добавление данных (INSERT);</li>
  <li>права на изменение данных (UPDATE);</li>
  <li>права на удаление данных (DELETE).</li>
</ul>

<p>
Для обычного пользователя системы предоставляется доступ только к данным,
относящимся к его учётной записи, без возможности изменения структуры базы
данных.
</p>

<p>
Администратор базы данных обладает расширенными правами, включая создание
и изменение таблиц, назначение ролей и управление правами доступа.
</p>

<p>
Использование механизма ролей PostgreSQL позволяет обеспечить защиту данных
и предотвратить несанкционированный доступ к информации.
</p>

<br>

<h3 id="55-создание-индексов">5.5. Создание индексов</h3>

<p>
Для повышения производительности выполнения запросов в базе данных используются
индексы. Индексы позволяют ускорить поиск и сортировку данных, особенно при
работе с большими объёмами информации.
</p>

<p>
В разработанной базе данных индексы создаются по тем полям таблиц, которые
наиболее часто используются в условиях выборки, соединениях таблиц и
сортировке результатов запросов.
</p>

<p>
Основные случаи применения индексов в базе данных:
</p>

<ul>
  <li>поля внешних ключей, используемые для соединения таблиц;</li>
  <li>поля, участвующие в условиях фильтрации данных;</li>
  <li>поля, используемые для сортировки записей по дате;</li>
  <li>поля с уникальными значениями.</li>
</ul>

<p>
Создание индексов осуществляется с использованием оператора CREATE INDEX.
При этом учитывается баланс между увеличением скорости выполнения запросов
и дополнительными затратами ресурсов на обслуживание индексов.
</p>

<p>
Таким образом, использование индексов позволяет повысить эффективность работы
системы учёта домашних финансов и сократить время выполнения запросов.
</p>

<br>

<h3 id="56-разработка-стратегии-резервного-копирования-базы-данных">
  5.6. Разработка стратегии резервного копирования базы данных
</h3>

<p>
Для обеспечения сохранности данных и возможности восстановления информации
в случае сбоев или ошибок предусмотрена стратегия резервного копирования базы
данных.
</p>

<p>
В рамках системы учёта домашних финансов резервное копирование базы данных
реализуется с использованием стандартных средств СУБД PostgreSQL.
</p>

<p>
Основные элементы стратегии резервного копирования:
</p>

<ul>
  <li>регулярное создание полных резервных копий базы данных;</li>
  <li>хранение резервных копий на внешних носителях или в защищённом хранилище;</li>
  <li>контроль целостности резервных копий;</li>
  <li>возможность восстановления базы данных из резервной копии.</li>
</ul>

<p>
Для создания резервных копий используется утилита pg_dump, позволяющая
сохранять структуру базы данных и все содержащиеся в ней данные.
</p>

<p>
Реализация стратегии резервного копирования позволяет обеспечить надёжность
хранения информации и минимизировать риски потери данных в процессе эксплуатации
системы.
</p>

<h3 id="5-7">5.7. Разработка стратегии защиты базы данных и хранимой в ней информации средствами СУБД</h3>

<p>
Защита информации является важной составляющей при разработке и эксплуатации
баз данных, содержащих персональные и финансовые данные пользователей.
В системе учёта домашних финансов особое внимание уделяется обеспечению
конфиденциальности, целостности и доступности хранимой информации.
</p>

<p>
В рамках данной курсовой работы рассматривается использование встроенных
механизмов безопасности СУБД PostgreSQL, позволяющих реализовать базовую
стратегию защиты базы данных без привлечения сторонних средств.
</p>

<p>
Одним из основных механизмов защиты является разграничение прав доступа
пользователей к объектам базы данных. В PostgreSQL это реализуется с помощью
ролей, которым могут назначаться различные права на выполнение операций
чтения, добавления, изменения и удаления данных.
</p>

<p>
В разрабатываемой системе могут быть предусмотрены следующие роли:
</p>

<ul>
  <li><b>администратор базы данных</b>, обладающий полными правами на управление
  структурой базы данных и настройку пользователей;</li>
  <li><b>пользователь системы</b>, имеющий ограниченные права на добавление и
  просмотр собственных финансовых операций.</li>
</ul>

<p>
Для повышения уровня безопасности может применяться принцип минимально
необходимых привилегий, согласно которому каждому пользователю предоставляется
только тот набор прав, который необходим ему для выполнения своих функций.
Это позволяет снизить риск несанкционированного доступа и ошибок при работе
с базой данных.
</p>

<p>
Кроме разграничения прав доступа, в PostgreSQL предусмотрены механизмы
обеспечения целостности данных, такие как ограничения первичных и внешних
ключей, ограничения уникальности и проверки значений. Использование данных
механизмов позволяет предотвратить появление некорректных и противоречивых
данных в базе.
</p>

<p>
В рамках учебного проекта также рассматривается возможность обеспечения
безопасности на уровне строк, при которой пользователь имеет доступ только
к тем записям, которые относятся к его финансовым операциям. Данный подход
повышает уровень конфиденциальности данных и может быть реализован средствами
СУБД PostgreSQL.
</p>

<p>
Таким образом, использование встроенных средств защиты PostgreSQL позволяет
реализовать базовую стратегию безопасности базы данных, достаточную для
учебной системы учёта домашних финансов и соответствующую требованиям
информационной безопасности.
</p>

<br>

<h3 id="5-8">5.8. Разработка API, реализующего работу с базой данных стороннего приложения</h3>

<p>
В современных информационных системах база данных, как правило, не используется
непосредственно конечным пользователем, а служит основой для работы прикладных
программ. Для обеспечения взаимодействия базы данных с внешними приложениями
применяются программные интерфейсы доступа, или API.
</p>

<p>
В рамках данной курсовой работы разработка API рассматривается на концептуальном
уровне и не предполагает создание полноценного серверного приложения. Основной
задачей является описание принципов взаимодействия стороннего приложения с
базой данных системы учёта домашних финансов.
</p>

<p>
Предполагается, что внешнее приложение обращается к базе данных через серверное
приложение, реализующее набор методов для выполнения основных операций:
получения данных о финансовых операциях, добавления новых записей, а также
формирования сводной информации за заданный период времени.
</p>

<p>
Наиболее распространённым подходом к реализации API является использование
архитектурного стиля REST, при котором взаимодействие осуществляется с
использованием стандартных HTTP-запросов. В этом случае операции чтения и
изменения данных могут быть сопоставлены с HTTP-методами GET, POST, PUT и DELETE.
</p>

<p>
В качестве примеров логических операций API можно выделить получение списка
финансовых операций пользователя за определённый период, добавление новой
доходной или расходной операции, а также получение агрегированных данных по
категориям расходов.
</p>

<p>
Для обеспечения безопасности при работе API с базой данных предполагается
использование механизмов аутентификации и авторизации пользователей, а также
ограничение доступа к данным в соответствии с правами, определёнными в СУБД.
Это позволяет предотвратить несанкционированный доступ к финансовой информации.
</p>

<p>
Таким образом, разработка API позволяет обеспечить удобное и безопасное
взаимодействие базы данных с внешними приложениями и создаёт основу для
дальнейшего расширения функциональности системы учёта домашних финансов.
</p>

<br>

<h2 id="заключение">Заключение</h2>

<p>
В ходе выполнения курсовой работы была разработана база данных для системы
учёта домашних финансов с использованием системы управления базами данных
PostgreSQL.
</p>

<p>
В процессе работы была проанализирована предметная область, выделены основные
информационные объекты и определены связи между ними. На основе проведённого
анализа была разработана инфологическая (концептуальная) модель базы данных,
которая послужила основой для построения логической и физической структур.
</p>

<p>
В рамках курсовой работы была описана реализация проекта в среде СУБД PostgreSQL,
включающая создание таблиц, разработку SQL-запросов, назначение прав доступа,
создание индексов и разработку стратегии резервного копирования базы данных.
</p>

<p>
Разработанная база данных обеспечивает надёжное хранение информации,
целостность данных и возможность эффективной обработки финансовых операций
пользователя.
</p>

<p>
Результаты курсовой работы могут быть использованы в дальнейшем при разработке
настольного или веб-приложения для учёта домашних финансов, а также послужить
основой для расширения функциональности системы.
</p>

<br>

<h2 id="список-использованных-источников">Список использованных источников</h2>

<ol>
  <li>
    Кузнецов С. Д. Базы данных: учебное пособие для студентов средних
    профессиональных учебных заведений. — М.: Академия, 2020.
  </li>
  <li>
    Дейт К. Дж. Введение в системы баз данных. — М.: Вильямс, 2019.
  </li>
  <li>
    PostgreSQL Global Development Group. Официальная документация PostgreSQL
    [Электронный ресурс]. — Режим доступа: https://www.postgresql.org/docs/
    (дата обращения: 2025).
  </li>
  <li>
    Коннолли Т., Бегг К. Базы данных. Проектирование, реализация и сопровождение.
    — М.: Вильямс, 2018.
  </li>
  <li>
    Сильberschatz А., Кортезе Г., Сударшан С. Системы баз данных.
    — М.: Питер, 2021.
  </li>
</ol>

<br>

<h2 id="приложение-а">Приложение А</h2>
<h3>Реализация базы данных для учета домашних финансов в СУБД PostgreSQL</h3>

<p>
В данном приложении представлена реализация структуры базы данных для учета
домашних финансов с использованием системы управления базами данных PostgreSQL
и языка структурированных запросов SQL. Приведённый SQL-код демонстрирует
создание таблиц, определение связей между ними, а также примеры заполнения
таблиц тестовыми данными и выполнения запросов.
</p>

<h4>Создание таблиц базы данных</h4>

<p>
Для хранения информации о финансовых операциях пользователя в базе данных
создаются таблицы, отражающие основные информационные объекты предметной области.
</p>

<pre><code class="language-sql">
CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    username VARCHAR(100) NOT NULL,
    created_at DATE NOT NULL
);

CREATE TABLE categories (
    category_id SERIAL PRIMARY KEY,
    category_name VARCHAR(100) NOT NULL
);

CREATE TABLE operations (
    operation_id SERIAL PRIMARY KEY,
    user_id INTEGER NOT NULL,
    category_id INTEGER NOT NULL,
    operation_type VARCHAR(10) NOT NULL,
    amount NUMERIC(10,2) NOT NULL,
    operation_date DATE NOT NULL,
    description TEXT,
    CONSTRAINT fk_user
        FOREIGN KEY (user_id)
        REFERENCES users(user_id),
    CONSTRAINT fk_category
        FOREIGN KEY (category_id)
        REFERENCES categories(category_id)
);
</code></pre>

<p>
Таблица <b>users</b> предназначена для хранения информации о пользователях системы.
Таблица <b>categories</b> содержит перечень категорий доходов и расходов.
Таблица <b>operations</b> используется для хранения данных о финансовых операциях
и связана с таблицами пользователей и категорий с помощью внешних ключей.
</p>

<h4>Заполнение таблиц тестовыми данными</h4>

<p>
Для проверки корректности работы базы данных выполняется заполнение таблиц
примерными тестовыми данными.
</p>

<pre><code class="language-sql">
INSERT INTO users (username, created_at)
VALUES
('Иванов И.И.', '2024-01-01');

INSERT INTO categories (category_name)
VALUES
('Заработная плата'),
('Продукты'),
('Транспорт'),
('Коммунальные услуги'),
('Развлечения');

INSERT INTO operations (user_id, category_id, operation_type, amount, operation_date, description)
VALUES
(1, 1, 'доход', 60000.00, '2024-01-05', 'Заработная плата за январь'),
(1, 2, 'расход', 8500.00, '2024-01-10', 'Покупка продуктов'),
(1, 3, 'расход', 2300.00, '2024-01-12', 'Проезд в общественном транспорте'),
(1, 4, 'расход', 4200.00, '2024-01-15', 'Оплата коммунальных услуг'),
(1, 5, 'расход', 3000.00, '2024-01-20', 'Посещение кинотеатра');
</code></pre>

<h4>Примеры SQL-запросов</h4>

<p>
Для получения данных из базы используются SQL-запросы, позволяющие формировать
отчеты и аналитическую информацию.
</p>

<p><b>Получение списка всех операций пользователя:</b></p>

<pre><code class="language-sql">
SELECT
    o.operation_date,
    c.category_name,
    o.operation_type,
    o.amount,
    o.description
FROM operations o
JOIN categories c ON o.category_id = c.category_id
WHERE o.user_id = 1
ORDER BY o.operation_date;
</code></pre>

<p><b>Подсчет общей суммы расходов пользователя:</b></p>

<pre><code class="language-sql">
SELECT
    SUM(amount) AS total_expenses
FROM operations
WHERE operation_type = 'расход'
AND user_id = 1;
</code></pre>

<p><b>Подсчет общей суммы доходов пользователя:</b></p>

<pre><code class="language-sql">
SELECT
    SUM(amount) AS total_income
FROM operations
WHERE operation_type = 'доход'
AND user_id = 1;
</code></pre>

<p>
Приведённые SQL-запросы демонстрируют основные возможности работы с базой данных
и позволяют получать информацию, необходимую для анализа доходов и расходов
пользователя.
</p>

<p>
Таким образом, реализованная структура базы данных и примеры SQL-запросов
подтверждают возможность использования СУБД PostgreSQL для создания системы
учета домашних финансов в рамках учебного проекта.
</p>








