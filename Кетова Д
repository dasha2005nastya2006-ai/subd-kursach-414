### <p align="center"> Министерство образования, науки и молодежной политики Республики Коми

### <p align="center"> ГПОУ «Сыктывкарский политехнический техникум»

## <p align="center"> Курсовая работа

## <p align="center"> Тема: База данных для детского творческого центра </p>

#### <p align="right"> выполнила

 <p align="right">студентка 4 курса

<p align="right">414 группы

<p align="right">Кетова Дарья Олеговна

#### <p align="right">проверил

<p align="right">Пунгин И.В.

<p align="right">дата проверки:

<p align="center">Сыктывкар, 2025 г.

## <a id="content">Содержание</a>

[Введение](#introduction)

- [Актуальность темы](#relevance)
    
- [Цель работы](#purpose)
    
- [Задачи работы](#tasks)   
    
[Основная часть](#main)

1.[Анализ предметной области. Постановка задачи](#analysis)  

2. [Инфологическая (концептуальная) модель базы данных](#conceptual-model)
 
3. [Логическая структура БД](#logical-structure)

4. [Физическая структура базы данных](#physical-structure)

5. [Реализация проекта в среде конкретной СУБД](#implementation)

[Заключение](#end)

   - [Список литературы](#literature)
   - [Приложения](#photos)

## <a id="introduction"> <p align="center"> Введение </a>

### <a id="relevance"> Актуальность темы </a>

Современные детские творческие центры работают как с большим количеством участников и связанных между собой процессов: регистрации детей и родителей, записи на занятия и мероприятия, ведение расписания, сбор отзывов и аналитика посещаемости. Эффективная информационная система должна не только хранить данные в структурированной форме, обеспечивать целостность и безопасность, но и поддерживать оперативное выполнение стандартных бизнес-операций: регистраций, записи на занятия, формирования расписания, подготовки отчетности и коммуникации с родителями. В условиях растущего объема данных важно обеспечить удобство доступа для сотрудников центра, гибкость расширения функциональности и наличие механизмов для анализа активности детей, эффективности занятий и уровня удовлетворенности участников.

### <a id="purpose"> Цель работы </a>
Разработать и продемонстрировать работоспособную базу данных для детского творческого центра, которая обеспечивает хранение и управление информацией по детям, родителям, занятиям, преподавателям, записям на занятия, мероприятиям и отзывам. Целью является создание целостной схемы данных, реализация основных операций (регистрация, запись на занятия, управление расписанием, формирование отчетов, коммуникация с родителями) и предоставление примеров типовых запросов и сценариев использования.

### <a id="tasks"> Задачи работы </a>
•	Спроектировать концептуальную и физическую модель базы данных, определить сущности, атрибуты, связи и ограничения целостности.

•	Реализовать структурную схему базы данных в выбранной СУБД (PostgreSQL по умолчанию, с учетом возможности адаптации под MySQL/SQLite).

•	Обеспечить целостность данных: определить внешние ключи, уникальные ограничения, индексы для ускорения типовых запросов.

•	Реализовать базовые операции

•	Разработать набор примеров запросов для отчетов

•	Оценить ограничения и возможности расширения системы 

## <a id="main"> <p align="center"> Основная часть </a>

### <a id="main"> <p analysis"> Анализ предметной области. Постановка задачи </a>

 Детский творческий центр — это учреждение, предоставляющее детям различные возможности для развития творческих способностей через занятия искусством, рукоделием, музыкой и другими видами деятельности. Основные функции центра включают организацию занятий, выставок, конкурсов и мастер-классов. Задачи, которые необходимо решить в рамках данной работы, включают автоматизацию учета учеников, расписания занятий и управления ресурсами центра.

Входные данные | Выходные данные| 
---------|------------|
Данные о детях | Списки учеников по группам
Данные о преподавателях | Отчеты о посещаемости |
Расписание занятий | Расписание занятий для учеников и преподавателей|
 Информация о курсах и мастер-классах | Статистика по записям на курсы и мастер-классы |
Записи о посещаемости | Финансовые отчеты по оплате курсов |

### Ограничения предметной области:
• Ограничение по количеству детей в группе.
• Ограничения по возрасту для участия в определенных курсах.
• Наличие ресурсов (материалов, оборудования) для проведения занятий.

### Взаимодействие с другими программами:
• Возможность интеграции с системами онлайн-платежей для оплаты курсов.
• Взаимодействие с системами рассылки уведомлений (например, email или SMS) для информирования родителей о расписании и событиях.

### <a id="main"> <p conceptual-model"> Инфологическая (концептуальная) модель базы данных </a>

### Выделение информационных объектов
• Ученик

• Преподаватель

• Занятие

• Курс/Мастер-класс

• Посещение

### Определение атрибутов объектов

| № | кто | данные | данные | данные | данные |
|---|---------|------------|-----------------------------|---------|-----------|
| 1 | Ученик | ID |	ФИО |	дата рождения |	контактная информация
| 2 | Преподаватель |ID | ФИО	| специализация |	контактная информация 
| 3 | Занятие | ID | название |	дата и время |	место проведения
| 4 | Курс| ID	| название	описание | стоимость |
| 5 | Посещение	 |ID ученика | ID занятия | дата посещения |	

### Определение отношений и мощности отношений между объектами

• Дети и Родители: Один ко многим (один родитель может иметь много детей).

• Дети и Записи на занятия: Один ко многим (один ребенок может быть записан на много занятий).

• Занятия и Записи на занятия: Один ко многим (одно занятие может иметь много записей).

• Преподаватели и Занятия: Один ко многим (один преподаватель может вести много занятий).

• Дети и Мероприятия: Один ко многим (один ребенок может участвовать в многих мероприятиях).

• Дети и Отзывы: Один ко многим (один ребенок может оставить много отзывов).

• Занятия и Отзывы: Один ко многим (одно занятие может иметь много отзывов).

• Мероприятия и Отзывы: Один ко многим (одно мероприятие может иметь много отзывов).

#### Визуальная схема изображена в приложение 1

### <a id="main"> <p logical-structure> Логическая структура БД </a>

### 1. Определение структуры таблиц на основе концептуальной модели

На основе концептуальной модели можно выделить следующие таблицы с соответствующими типами данных:

 ```sql

CREATE TABLE Student (
    student_id INT PRIMARY KEY AUTO_INCREMENT,
    full_name VARCHAR(100) NOT NULL,
    birth_date DATE NOT NULL,
    contact_info VARCHAR(255)
);

CREATE TABLE Teacher (
    teacher_id INT PRIMARY KEY AUTO_INCREMENT,
    full_name VARCHAR(100) NOT NULL,
    specialization VARCHAR(100),
    contact_info VARCHAR(255)
);

CREATE TABLE Class (
    class_id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(100) NOT NULL,
    date DATETIME NOT NULL,
    location VARCHAR(100),
    teacher_id INT,
    FOREIGN KEY (teacher_id) REFERENCES Teacher(teacher_id)
);

CREATE TABLE Course (
    course_id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(100) NOT NULL,
    description TEXT,
    cost DECIMAL(10, 2)
);

CREATE TABLE Attendance (
    attendance_id INT PRIMARY KEY AUTO_INCREMENT,
    student_id INT,
    class_id INT,
    attendance_date DATE NOT NULL,
    FOREIGN KEY (student_id) REFERENCES Student(student_id),
    FOREIGN KEY (class_id) REFERENCES Class(class_id)

```
 ### 2. Физическое хранение данных и настройка параметров производительности

Физическое хранение данных будет зависеть от используемой СУБД (например, MySQL, PostgreSQL). Для оптимизации производительности можно рассмотреть:

• Использование индексов на полях, которые часто используются в запросах (например, student_id, class_id).

• Настройка параметров кэширования и буферизации, чтобы ускорить доступ к часто запрашиваемым данным.

• Регулярное обновление статистики для оптимизатора запросов.

 ### 3. SQL-запросы для получения необходимых данных

 ### 3.1. Выборка всех учеников

 ```sql
 SELECT * FROM Student;
```

 ### 3.2. Отчет по посещаемости

 ```sql
 SELECT s.full_name, c.title, a.attendance_date
FROM Attendance a
JOIN Student s ON a.student_id = s.student_id
JOIN Class c ON a.class_id = c.class_id;
```
### 4. Создание пользовательского интерфейса

#### Для создания пользовательского интерфейса можно использовать различные технологии, такие как:

• Веб-приложение: HTML, CSS, JavaScript с фреймворками (например, React, Angular).

• Настольное приложение: Python (с библиотеками Tkinter или PyQt), Java (JavaFX).

#### Интерфейс должен позволять пользователям выполнять следующие действия:

• Добавление/редактирование учеников и преподавателей.

• Просмотр расписания занятий.

• Запись на курсы и мастер-классы.

• Генерация отчетов по посещаемости.

### 5. Настройка прав доступа

Правила доступа могут быть реализованы через систему ролей:

• Администраторы: полный доступ ко всем функциям.

• Преподаватели: доступ к управлению занятиями и просмотр статистики посещаемости.

• Родители: доступ к информации о своих детях и расписанию.

### 6. Оптимизация запросов

Создание индексов на часто используемые поля:

 ```sql
CREATE INDEX idx_student_name ON Student(full_name);
CREATE INDEX idx_class_title ON Class(title);
```

### 7. Регулярные процедуры резервного копирования

Резервное копирование может выполняться с помощью скриптов, которые будут запускаться по расписанию (например, с использованием cron в Linux):

```bash
mysqldump -u username -p database_name > backup.sql
```

### 8. Настройка механизмов безопасности

Для защиты данных можно использовать:

• Шифрование данных на уровне базы данных.

• Настройка SSL для защищенного соединения между клиентом и сервером.

• Регулярные проверки прав доступа и аудит действий пользователей.

### 9. Создание API

API может быть реализовано с использованием фреймворков, таких как Flask или Django для Python, или Express для Node.js. Пример простого API для получения списка учеников:

```python
from flask import Flask, jsonify
import mysql.connector
app = Flask(__name__)
@app.route('/students', methods=['GET'])
def get_students():
    conn = mysql.connector.connect(user='username', password='password', host='localhost', database='db_name')
    cursor = conn.cursor()
    cursor.execute("SELECT * FROM Student")
    students = cursor.fetchall()
    return jsonify(students)

if __name__ == '__main__':

    app.run(debug=True)
```
### <a id="main"> <p physical-structure> Физическая структура базы данных </a> 

### 1. Параметры хранения данных

В MySQL можно настроить параметры хранения данных на уровне таблиц. Например, можно выбрать тип таблицы (InnoDB или MyISAM) и задать параметры для хранения.

### 1.1. Выбор типа таблицы

 ```sql
CREATE TABLE Student (
    student_id INT PRIMARY KEY AUTO_INCREMENT,
    full_name VARCHAR(100) NOT NULL,
    birth_date DATE NOT NULL,
    contact_info VARCHAR(255)
) ENGINE=InnoDB;  -- Используем InnoDB для поддержки транзакций и внешних ключей
 ```

### 2. Индексы для ускорения поиска

Индексы позволяют значительно ускорить операции выборки данных. Их можно создавать на полях, которые часто используются в условиях поиска, сортировки и соединения.

### 2.1. Создание индексов

```sql
-- Индекс на поле full_name в таблице Student
CREATE INDEX idx_student_name ON Student(full_name);

-- Индекс на поле title в таблице Class
CREATE INDEX idx_class_title ON Class(title);

-- Композитный индекс на полях student_id и class_id в таблице Attendance
CREATE INDEX idx_attendance ON Attendance(student_id, class_id);
```

### 3. Настройка параметров производительности

### 3.1. Настройка параметров InnoDB

Можно настроить параметры InnoDB для оптимизации производительности. Например, увеличение размера буфера пула может улучшить производительность при работе с большими объемами данных.

```sql
SET GLOBAL innodb_buffer_pool_size = 104857600;  -- Установка размера буфера 100MB
```
### 3.2. Настройка параметров кэширования

Для повышения производительности можно настроить кэширование запросов.
```sql
SET GLOBAL query_cache_size = 1048576;  -- Установка размера кэша запросов 1MB
SET GLOBAL query_cache_type = ON;        -- Включение кэширования запросов
```
### 4. Мониторинг и анализ производительности

Важно регулярно мониторить производительность базы данных. Для этого можно использовать встроенные инструменты MySQL, такие как SHOW STATUS или EXPLAIN.

### 4.1. Использование EXPLAIN для анализа запросов
```sql
EXPLAIN SELECT * FROM Attendance WHERE student_id = 1;
```
### 5. Резервное копирование и восстановление
   
Регулярное резервное копирование данных критически важно для обеспечения надежности базы данных.

### 5.1. Резервное копирование с помощью mysqldump

```bash
mysqldump -u username -p database_name > backup.sql
```
### 5.2 Восстановление из резервной копии
```bash
mysql -u username -p database_name < backup.sql
```
### 6. Безопасность и управление доступом

Необходимо настроить права доступа к базе данных, чтобы защитить данные от несанкционированного доступа.

### 6.1. Создание пользователей и назначение прав
```sql
-- Создание нового пользователя
CREATE USER 'newuser'@'localhost' IDENTIFIED BY 'password';
-- Предоставление прав на доступ к базе данных
GRANT SELECT, INSERT, UPDATE, DELETE ON database_name.* TO 'newuser'@'localhost';

-- Применение изменений прав доступа
FLUSH PRIVILEGES;
```
### <a id="main"> <p implementation> Реализация проекта в среде конкретной СУБД </a>

Для реализации проекта с использованием MySQL в качестве системы управления базами данных (СУБД) вам потребуется выполнить несколько шагов: установка MySQL, создание базы данных и таблиц, реализация интерфейса для взаимодействия с базой данных, а также тестирование. Давайте рассмотрим каждый из этих шагов подробнее.

### Шаг 1: Установка MySQL и создание новой базы данных

1. Установка MySQL:
   – Для установки MySQL на Windows или Linux можно использовать установщик с официального сайта MySQL (https://dev.mysql.com/downloads/mysql/).
   
   – На Linux можно установить MySQL через пакетный менеджер. Например, для Ubuntu:
     ```sql
     sudo apt update
     sudo apt install mysql-server
     ```

3. Запуск MySQL:
   
   – После установки запустите сервер MySQL:
     ```sql
     sudo service mysql start
     ```

4. Создание новой базы данных:
   – Подключитесь к серверу MySQL:
     ```sql
     mysql -u root -p
     ```
   • Создайте новую базу данных:
     ```sql
     CREATE DATABASE school_management;
     USE school_management;
     ```

### Шаг 2: Создание таблиц

Теперь создадим таблицы в соответствии с логической структурой. Например, создадим таблицы для детей, групп и посещаемости.

```sql
-- Таблица для детей
CREATE TABLE Student (
    student_id INT PRIMARY KEY AUTO_INCREMENT,
    full_name VARCHAR(100) NOT NULL,
    birth_date DATE NOT NULL,
    contact_info VARCHAR(255)
);

-- Таблица для групп
CREATE TABLE Class (
    class_id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(100) NOT NULL,
    teacher_name VARCHAR(100) NOT NULL,
    schedule VARCHAR(100)
);

-- Таблица для посещаемости
CREATE TABLE Attendance (
    attendance_id INT PRIMARY KEY AUTO_INCREMENT,
    student_id INT,
    class_id INT,
    date DATE NOT NULL,
    status ENUM('Present', 'Absent') NOT NULL,
    FOREIGN KEY (student_id) REFERENCES Student(student_id),
    FOREIGN KEY (class_id) REFERENCES Class(class_id)
);

```

### Шаг 3: Реализация интерфейса

Для взаимодействия с базой данных можно создать веб-приложение на основе PHP и HTML. Ниже представлен простой пример:

1. Создайте файл index.php:

```sql
<?php
$servername = "localhost";
$username = "root"; // Ваше имя пользователя
$password = ""; // Ваш пароль
$dbname = "school_management";

// Создание соединения
$conn = new mysqli($servername, $username, $password, $dbname);

// Проверка соединения
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}

// Получение списка детей
$sql = "SELECT * FROM Student";
$result = $conn->query($sql);
?>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Management</title>
</head>
<body>
    <h1>Список детей</h1>
    <table border="1">
        <tr>
            <th>ID</th>
            <th>ФИО</th>
            <th>Дата рождения</th>
            <th>Контактная информация</th>
        </tr>
        <?php if ($result->num_rows > 0): ?>
            <?php while($row = $result->fetch_assoc()): ?>
                <tr>
                    <td><?php echo $row['student_id']; ?></td>
                    <td><?php echo $row['full_name']; ?></td>
                    <td><?php echo $row['birth_date']; ?></td>
                    <td><?php echo $row['contact_info']; ?></td>
                </tr>
            <?php endwhile; ?>
        <?php else: ?>
            <tr><td colspan="4">Нет ребенка</td></tr>
        <?php endif; ?>
    </table>

    <h2>Добавить ребенка </h2>
    <form action="add_student.php" method="post">
        <input type="text" name="full_name" placeholder="ФИО" required>
        <input type="date" name="birth_date" required>
        <input type="text" name="contact_info" placeholder="Контактная информация">
        <button type="submit">Добавить</button>
    </form>

</body>
</html>

<?php $conn->close(); ?>
```

2. Создайте файл add_student.php:
```sql
<?php
$servername = "localhost";
$username = "root"; // Ваше имя пользователя
$password = ""; // Ваш пароль
$dbname = "school_management";

// Создание соединения
$conn = new mysqli($servername, $username, $password, $dbname);

// Проверка соединения
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}

// Добавление детей
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    $full_name = $_POST['full_name'];
    $birth_date = $_POST['birth_date'];
    $contact_info = $_POST['contact_info'];

    $sql = "INSERT INTO Student (full_name, birth_date, contact_info) VALUES ('$full_name', '$birth_date', '$contact_info')";

    if ($conn->query($sql) === TRUE) {
        header("Location: index.php");
        exit();
    } else {
        echo "Ошибка: " . $sql . "<br>" . $conn->error;
    }
}

$conn->close();
?>
```
### Шаг 4: Тестирование базы данных

1. Запустите веб-сервер:
   
   – Убедитесь, что у вас установлен и запущен веб-сервер (например, Apache или Nginx) и PHP.
   
   – Поместите файлы index.php и add_student.php в папку вашего веб-сервера (например, htdocs для XAMPP).
   

3. Проверьте работу приложения:
 
   – Откройте браузер и перейдите по адресу http://localhost/index.php.
   
   – Попробуйте добавить нового студента и проверьте, отображается ли он в списке.
   
## <a id="end">Заключение</a>
   В ходе выполнения курсовой работы по разработке базы данных для детского творческого центра была создана структурированная система, способствующая эффективному управлению информацией о детях, их родителях, занятиях, преподавателях и мероприятиях. Разработанная база данных позволяет автоматизировать процессы записи на занятия, учета посещаемости, а также сбора отзывов и оценки качества предоставляемых услуг.
   Создание ER-диаграммы и определение взаимосвязей между сущностями позволило четко представить структуру базы данных и ее функциональные возможности. В результате были выделены ключевые сущности, такие как "Дети", "Родители", "Занятия", "Преподаватели", "Записи на занятия", "Мероприятия" и "Отзывы", что обеспечило гибкость и масштабируемость системы.
   Разработанная база данных не только упрощает работу сотрудников центра, но и улучшает взаимодействие с родителями и детьми, позволяя им получать актуальную информацию о занятиях и мероприятиях. Кроме того, возможность анализа собранных данных поможет в дальнейшем оптимизировать программы и услуги центра, учитывая потребности и предпочтения участников.
  В целом, реализация данной базы данных для детского творческого центра способствует повышению эффективности управления, улучшению качества предоставляемых услуг и созданию комфортной образовательной среды для детей. Дальнейшие шаги могут включать внедрение дополнительных функций, таких как онлайн-запись на занятия и автоматизированные уведомления для родителей, что сделает систему еще более удобной и полезной.

## <a id="literature">Список используемой литературы</a>
https://online.visual-paradigm.com/ru/diagrams/features/erd-tool/

## <a id="photos">Приложение</a>
<img width="1920" height="1200" alt="image" src="https://github.com/user-attachments/assets/84aa9f8f-31fa-4b7c-aca0-3bb3f7c0b13e" />
