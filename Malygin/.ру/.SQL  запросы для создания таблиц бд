ТУТ Я СОБРАЛ ВСЕ (SQL ЗАПРОСЫ), ДЛЯ СОЗДАНИЯ ТАБЛИЦ .--БАЗЫ ДАННЫХ --"ТОРГОВОЙ ОРГАНИЗАЦИИ"--.


cat — таблица категорий товара например (электрогитары, бас-гитары, акустика, колки, медиаторы). У каждой категории есть свой ID и uniqe название.

manufacturer — таблица для производителей (например, Fender, Gibson). 

supplier — таблица для поставщиков

post — таблица для должностей в магазине (продавец, бухгалтер).

employees — таблица сотрудников.

client — таблица клиентов магазина.

pay_method — таблица разных способов оплаты (наличные, карта и т.д.).

contact_method — таблица связей с клиентом (телефон, email).

product — основная таблица товаров. Содержит всю информацию: к какой категории относится, кто производитель, кто поставщик, название, сколько штук на складе (stock), закупочную и розничную цену.

order_info — это таблица "корзины" или состава заказа.

orders — таблица заказов/покупок. Фиксирует сам факт продажи: какой клиент, какая корзина товаров (order_info_id), каким способом произошла оплата.

users — таблица для учетных записей людей, роль (админ, продавец, бухгалтер) и ФИО.


--ВЕТКА №1 Запрсы для главной страницы.--


SELECT o.order_id, c.name, o.date, o.total_sum FROM orders ... — Показывает 10 последних покупок. Выводит номер заказа, имя клиента, дату и сумму, отсортированные от новых к старым.

SELECT COUNT(*) FROM product; — Считает общее количество разных товаров ну или по другому позиций в моем ассортименте.

SELECT COUNT(*) FROM client; — Считает общее количество клиентов в базе.

SELECT COALESCE(SUM(total_sum), 0) FROM orders; — Считает общую сумму всех продаж (выручку) за все время. COALESCE нужен, чтобы если продаж нет, показать 0, а не пустоту.

SELECT COUNT(*) FROM product WHERE stock < 10; — Считает, по каким товарам остаток на складе стал меньше 10 штук. Это сигнал для закупки.

SELECT COUNT(*), COALESCE(SUM(total_sum), 0) FROM orders WHERE DATE(date) = CURRENT_DATE; — Производит подсчект товров и общую сумму продаж ЗА СЕГОДНЯШНИЙ ДЕНЬ. CURRENT_DATE — это сегодняшняя дата.

SELECT COUNT(*) FROM product WHERE stock > 0; — Считает, сколько товаров есть в наличии (остаток всегда больше нуля).

SELECT COALESCE(SUM(total_sum), 0) FROM orders; — (Повтор) Снова общая выручка.

SELECT COALESCE(AVG(total_sum), 0) FROM orders; — Считает среднее арифметическое по чекам из всех продаж (вся сумма / количество чеков).

(ВЕТКА №2) - ОБЪЯСНЕНИЕ СЛЕДУЮЩИХ ЗАПРОСОВ.

Для входа в СУБД (базу данных напрямую, например, в pgAdmin):

Логин: postgres

Пароль: pgadmin

Для входа в мое приложение (гитарный магазин-лютый шопчик) используются созданные учетные записи:

Админ: Логин — admin, Пароль — admin123

Продавец: Логин — seller1, Пароль — seller123

Бухгалтер: Логин — accountant1, Пароль — accountant123

Если говорить про функционал по ролям, 
то в самой программе кнопки и доступ к разным разделам 
(например, к отчетам или управлению пользователями) 
будут меняться в зависимости от того, под кем зашел человек. Это проверяется и реализуется в коде программы, а не в базе данных.

