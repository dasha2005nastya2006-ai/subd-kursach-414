<p align="center">Министерство образования, науки и молодежной политики Республики Коми</p>
<p align="center">ГПОУ «Сыктывкарский политехнический техникум»</p>

<p align="center"><b>Курсовая работа</b></p>
<p align="center">по дисциплине: «Базы данных»</p>
<p align="center">тема: <b>База данных для лесозаготовительной фирмы</b></p>

<p align="right">выполнил:</p>
<p align="right">студент 4 курса</p>
<p align="right">414 группы</p>
<p align="right">Галимов Даниил Рафикович</p>

<p align="right">проверил:</p>
<p align="right">Пунгин И.В.</p>

<p align="right">дата проверки:</p>

<p align="center">Сыктывкар, 2025</p>

---

# Задание на курсовую работу

Специальность:  
09.02.07 «Информационные системы и программирование»

Тема курсовой работы:  
База данных для лесозаготовительной фирмы

Срок представления работы к защите:  
19 декабря 2025 года.

Перечень подлежащих разработке вопросов:
- анализ предметной области деятельности лесозаготовительной фирмы;
- определение входных и выходных данных системы;
- проектирование инфологической (концептуальной) модели базы данных;
- разработка логической структуры базы данных;
- разработка физической структуры базы данных;
- реализация базы данных в СУБД PostgreSQL;
- разработка SQL-запросов для работы с данными;
- описание взаимодействия базы данных с серверной частью приложения.

---

## <a id="content">Содержание</a>

1. [Введение](#introduction)  
   1.1 [Цель работы](#target)  
   1.2 [Задачи работы](#tasks)  

2. [Анализ предметной области. Постановка задачи](#analysis)  
   2.1 [Описание предметной области](#analysis-description)  
   2.2 [Входные данные](#input-data)  
   2.3 [Выходные данные](#output-data)  
   2.4 [Ограничения предметной области](#constraints)  

3. [Описание функций решаемых задач](#functions)  
   3.1 [Управление пользователями системы](#functions-users)  
   3.2 [Формирование и хранение отчётов](#functions-reports)  
   3.3 [Учёт и расчёт пиломатериалов](#functions-boards)  
   3.4 [Учёт и расчёт круглого леса](#functions-logs)  
   3.5 [Аналитическая обработка данных](#functions-analytics)  

4. [Инфологическая (концептуальная) модель базы данных](#infological)  
   4.1 [Выделение сущностей](#entities)  
   4.2 [Сущность «Пользователь»](#entity-user)  
   4.3 [Сущность «Отчёт»](#entity-report)  
   4.4 [Сущность «Позиция расчёта пиломатериалов»](#entity-board-item)  
   4.5 [Сущность «Позиция расчёта круглого леса»](#entity-log-item)  
   4.6 [Сущность «Порода древесины»](#entity-species)  
   4.7 [Определение связей между сущностями](#entity-relations)  

5. [Логическая структура базы данных](#logical)  
   5.1 [Принципы проектирования логической структуры](#logical-principles)  
   5.2 [Перечень таблиц базы данных](#logical-tables)  
   5.3 [Обеспечение целостности данных](#logical-integrity)  

6. [Физическая структура базы данных](#physical)  
   6.1 [Выбор СУБД и типов данных](#physical-dbms)  
   6.2 [Типы данных и ограничения](#physical-types)  
   6.3 [Индексация](#physical-indexes)  

7. [Реализация проекта в среде СУБД PostgreSQL](#implementation)  
   7.1 [Создание таблиц базы данных](#ddl)  
   7.2 [Примеры SQL-запросов добавления данных](#insert)  
   7.3 [Примеры SQL-запросов выборки данных](#select)  
   7.4 [Примеры SQL-запросов изменения и удаления данных](#update-delete)  

8. [Заключение](#conclusion)  

9. [Список использованных информационных источников](#sources)

---

# <a id="introduction">1 Введение</a>

В современных условиях развития лесозаготовительной промышленности всё большее значение приобретает автоматизация процессов учёта, расчёта и анализа древесных ресурсов. Лесозаготовительные фирмы работают с большими объёмами круглого леса и пиломатериалов, при этом точность расчётов напрямую влияет на финансовые показатели, планирование логистики и эффективность управления производственными процессами.

На практике во многих организациях учёт древесины до сих пор осуществляется вручную либо с использованием электронных таблиц, не предназначенных для долговременного хранения и анализа информации. Такой подход не обеспечивает целостность данных, затрудняет контроль выполненных расчётов и повышает вероятность возникновения ошибок. Отсутствие централизованной базы данных делает невозможным эффективное хранение истории расчётов и формирование аналитической отчётности.

Использование современных информационных технологий, в том числе мобильных приложений, позволяет значительно упростить процесс ввода данных непосредственно на местах заготовки древесины. Однако без надёжной базы данных такие приложения не способны обеспечить корректное хранение, обработку и защиту информации. База данных является ключевым элементом информационной системы, обеспечивая сохранность данных и доступ к ним.

В связи с этим актуальной задачей является разработка базы данных для лесозаготовительной фирмы, предназначенной для автоматизированного учёта расчётов круглого леса и пиломатериалов, формирования отчётов и аналитической обработки данных.

---

## <a id="target">1.1 Цель работы</a>

Целью курсовой работы является проектирование и реализация реляционной базы данных для лесозаготовительной фирмы, обеспечивающей автоматизированный расчёт объёма и стоимости древесины, хранение отчётных данных и поддержку аналитических запросов.

---

## <a id="tasks">1.2 Задачи работы</a>
Для достижения поставленной цели в курсовой работе необходимо решить следующие задачи:

- провести анализ предметной области деятельности лесозаготовительной фирмы;
- определить основные процессы учёта и расчёта древесины;
- определить входные и выходные данные системы;
- выделить основные сущности предметной области и их атрибуты;
- разработать инфологическую модель базы данных;
- спроектировать логическую структуру базы данных;
- разработать физическую структуру базы данных в СУБД PostgreSQL;
- реализовать SQL-запросы для создания таблиц и работы с данными.

---

# <a id="analysis">2 Анализ предметной области. Постановка задачи</a>

## <a id="analysis-description">2.1 Описание предметной области</a>

Предметной областью данной курсовой работы является деятельность лесозаготовительной фирмы, связанная с заготовкой древесины, её учётом, расчётом объёма и стоимости, а также формированием отчётной документации.

Лесозаготовительные предприятия осуществляют заготовку круглого леса, который используется в дальнейшем для производства пиломатериалов либо реализуется в качестве сырья. Для каждой партии древесины требуется выполнение точных расчётов объёма, так как от этого зависит стоимость материала и финансовые результаты деятельности предприятия.

Процесс расчёта круглого леса включает ввод параметров брёвен, таких как диаметр, длина и количество. Для пиломатериалов используются параметры толщины, ширины, длины и количества. На основе введённых данных производится расчёт объёма древесины, который сохраняется в базе данных и используется при формировании отчётов.

Результаты расчётов группируются в отчёты, которые могут формироваться за определённый период времени, по конкретному объекту или заказчику. Отчёты используются для внутреннего учёта, анализа выполненных работ и предоставления информации руководству предприятия.

---

## <a id="input-data">2.2 Входные данные</a>

К входным данным системы относятся:

- данные пользователей системы (имя, электронная почта, пароль);
- параметры круглого леса (диаметр, длина, количество, порода древесины);
- параметры пиломатериалов (толщина, ширина, длина, количество);
- данные отчётов (название, дата, тип);
- справочная информация (породы древесины, клиенты, лесные участки).

Все входные данные должны проверяться на корректность и соответствие установленным ограничениям.

---

## <a id="output-data">2.3 Выходные данные</a>
Выходными данными системы являются:

- отчёты о расчётах объёма и стоимости древесины;
- суммарные показатели по каждому отчёту;
- детализированные позиции расчёта;
- аналитические выборки по пользователям и отчётам.

---

## <a id="constraints">2.4 Ограничения предметной области</a>

К основным ограничениям предметной области относятся:

- необходимость точного хранения расчётных значений объёма и стоимости;
- обязательная привязка всех данных к пользователю системы;
- невозможность существования расчётных позиций без отчёта;
- обеспечение целостности данных при удалении записей;
- контроль допустимых значений параметров древесины.
# <a id="functions">3 Описание функций решаемых задач</a>

Разрабатываемая база данных для лесозаготовительной фирмы предназначена для автоматизации основных процессов учёта, расчёта и анализа древесных ресурсов. Функциональные возможности базы данных формируются на основе требований предметной области и направлены на повышение точности расчётов, надёжности хранения информации и удобства работы пользователей.

База данных должна обеспечивать выполнение следующих функций.

## <a id="functions-users">3.1 Управление пользователями системы</a>

Функция управления пользователями предназначена для идентификации и аутентификации пользователей, работающих с системой. Каждый пользователь системы имеет собственную учётную запись и может работать только с теми данными, которые были созданы им лично.

В рамках данной функции база данных обеспечивает:
- хранение идентификационных данных пользователя;
- хранение адреса электронной почты;
- хранение хэшированного пароля;
- хранение даты регистрации пользователя.

Все операции по созданию отчётов и расчётов выполняются строго от имени конкретного пользователя, что позволяет обеспечить изоляцию данных и контроль доступа.

## <a id="functions-reports">3.2 Формирование и хранение отчётов</a>

Отчёт является основной логической единицей хранения результатов расчёта древесины. Каждый отчёт объединяет набор расчётных позиций и содержит итоговые показатели.

Функции формирования отчётов включают:
- создание нового отчёта пользователем;
- задание наименования отчёта;
- указание даты формирования отчёта;
- определение типа отчёта (круглый лес или пиломатериалы);
- хранение итогового объёма и стоимости.

Отчёты позволяют структурировать данные и использовать их для последующего анализа и формирования сводной отчётности.

## <a id="functions-boards">3.3 Учёт и расчёт пиломатериалов</a>

Для пиломатериалов база данных должна обеспечивать хранение параметров каждой позиции и рассчитанных значений объёма.

Функции учёта пиломатериалов включают:
- ввод толщины доски;
- ввод ширины доски;
- ввод длины доски;
- ввод количества единиц;
- хранение рассчитанного объёма.

Каждая позиция пиломатериалов привязывается к конкретному отчёту, что позволяет формировать детализированные расчёты.

## <a id="functions-logs">3.4 Учёт и расчёт круглого леса</a>

Для круглого леса используется отдельная логика расчёта, так как форма древесины отличается от пиломатериалов.

Функции учёта круглого леса включают:
- ввод диаметра бревна;
- ввод длины бревна;
- ввод количества брёвен;
- указание породы древесины;
- хранение рассчитанного объёма.

Использование отдельных сущностей для круглого леса позволяет корректно хранить данные и выполнять аналитические запросы.

## <a id="functions-analytics">3.5 Аналитическая обработка данных</a>

База данных должна обеспечивать возможность аналитической обработки данных, необходимой для оценки эффективности деятельности предприятия.

К аналитическим функциям относятся:
- расчёт суммарного объёма древесины;
- расчёт общей стоимости заготовки;
- анализ данных по типам отчётов;
- получение статистики по пользователям.

---

# <a id="infological">4 Инфологическая (концептуальная) модель базы данных</a>

Инфологическая модель базы данных описывает структуру данных предметной области на концептуальном уровне и не зависит от конкретной реализации в СУБД. Данная модель отражает основные сущности, их атрибуты и логические связи между ними.

Инфологическое проектирование является важным этапом разработки базы данных, так как позволяет формализовать требования и избежать логических ошибок на последующих этапах.

## <a id="entities">4.1 Выделение сущностей</a>

В результате анализа предметной области были выделены следующие основные сущности:

- Пользователь  
- Отчёт  
- Позиция расчёта пиломатериалов  
- Позиция расчёта круглого леса  
- Порода древесины  
- Клиент  
- Лесной участок  

Каждая из перечисленных сущностей отражает реальный объект или процесс деятельности лесозаготовительной фирмы.

## <a id="entity-user">4.2 Сущность «Пользователь»</a>

Сущность «Пользователь» представляет сотрудника лесозаготовительной фирмы, использующего систему для выполнения расчётов и формирования отчётов.

Основные атрибуты сущности:
- идентификатор пользователя;
- имя пользователя;
- адрес электронной почты;
- пароль (в зашифрованном виде);
- дата регистрации.

Связь между сущностью «Пользователь» и сущностью «Отчёт» имеет тип «один ко многим», так как один пользователь может создавать несколько отчётов.

## <a id="entity-report">4.3 Сущность «Отчёт»</a>

Сущность «Отчёт» предназначена для хранения результатов расчётов древесины за определённый период или объект.

Основные атрибуты сущности:
- идентификатор отчёта;
- идентификатор пользователя;
- тип отчёта;
- наименование отчёта;
- дата формирования;
- суммарный объём древесины;
- суммарная стоимость.

Каждый отчёт принадлежит только одному пользователю.

## <a id="entity-board-item">4.4 Сущность «Позиция расчёта пиломатериалов»</a>

Сущность используется для хранения информации о расчётах пиломатериалов.

Атрибуты сущности:
- идентификатор позиции;
- идентификатор отчёта;
- толщина доски;
- ширина доски;
- длина доски;
- количество;
- объём.

Каждая позиция расчёта пиломатериалов связана с одним отчётом.

## <a id="entity-log-item">4.5 Сущность «Позиция расчёта круглого леса»</a>

Сущность предназначена для хранения данных о расчётах круглого леса.

Атрибуты сущности:
- идентификатор позиции;
- идентификатор отчёта;
- диаметр бревна;
- длина бревна;
- количество;
- порода древесины;
- объём.

Использование данной сущности позволяет хранить расчёты круглого леса отдельно от пиломатериалов.

## <a id="entity-species">4.6 Сущность «Порода древесины»</a>

Сущность «Порода древесины» используется в качестве справочной.

Атрибуты сущности:
- идентификатор породы;
- наименование породы;
- описание.

Справочник пород древесины обеспечивает единообразие данных и предотвращает дублирование информации.

## <a id="entity-relations">4.7 Определение связей между сущностями</a>

Между сущностями базы данных установлены следующие связи:

- Пользователь — Отчёт: один ко многим;
- Отчёт — Позиции расчёта: один ко многим;
- Порода древесины — Позиция круглого леса: один ко многим;
- Клиент — Отчёт: один ко многим;
- Лесной участок — Отчёт: один ко многим.

Все связи отражены в ER-диаграмме базы данных, представленной в приложении к курсовой работе.
# <a id="logical">5 Логическая структура базы данных</a>

Логическая структура базы данных представляет собой реализацию инфологической модели в терминах реляционной модели данных. На данном этапе проектирования каждая сущность преобразуется в таблицу, а связи между сущностями реализуются с помощью внешних ключей.

При проектировании логической структуры базы данных были соблюдены основные принципы нормализации данных. База данных приведена к третьей нормальной форме (3НФ), что позволяет устранить избыточность данных и обеспечить их логическую целостность.

## <a id="logical-principles">5.1 Принципы проектирования логической структуры</a>

При разработке логической структуры базы данных использовались следующие принципы:

- каждая сущность инфологической модели представляется отдельной таблицей;
- каждая таблица имеет первичный ключ;
- связи между таблицами реализуются через внешние ключи;
- в таблицах отсутствуют повторяющиеся группы данных;
- все неключевые атрибуты функционально зависят от первичного ключа.

## <a id="logical-tables">5.2 Перечень таблиц базы данных</a>

В результате проектирования логической структуры были определены следующие таблицы:

- users — таблица пользователей системы;
- reports — таблица отчётов;
- board_items — таблица расчётов пиломатериалов;
- log_items — таблица расчётов круглого леса;
- tree_species — справочник пород древесины;
- clients — таблица клиентов;
- locations — таблица лесных участков.

Каждая таблица содержит минимально необходимый набор атрибутов, обеспечивающий корректное хранение информации.

## <a id="logical-integrity">5.3 Обеспечение целостности данных</a>

Для обеспечения целостности данных в логической структуре используются следующие механизмы:

- первичные ключи (PRIMARY KEY);
- внешние ключи (FOREIGN KEY);
- ограничения NOT NULL;
- ограничения UNIQUE;
- ограничения CHECK для допустимых значений.

Использование данных механизмов позволяет предотвратить появление логически некорректных записей в базе данных.

---

# <a id="physical">6 Физическая структура базы данных</a>

Физическая структура базы данных определяет способы хранения данных на уровне СУБД PostgreSQL. На данном этапе выбираются типы данных, создаются индексы и настраиваются ограничения целостности.

## <a id="physical-dbms">6.1 Выбор СУБД и типов данных</a>

В качестве системы управления базами данных была выбрана PostgreSQL, так как она является надёжной, производительной и широко используется в промышленных информационных системах.

Основные преимущества PostgreSQL:
- поддержка стандарта SQL;
- развитые механизмы обеспечения целостности данных;
- высокая производительность;
- возможность масштабирования.

## <a id="physical-types">6.2 Типы данных и ограничения</a>

В проектируемой базе данных используются следующие типы данных:

- SERIAL — для автоматической генерации идентификаторов;
- INTEGER — для хранения целочисленных значений;
- NUMERIC — для хранения расчётных значений объёма и стоимости;
- VARCHAR — для хранения строк ограниченной длины;
- TEXT — для хранения текстовой информации;
- DATE — для хранения дат;
- TIMESTAMP — для хранения даты и времени.

## <a id="physical-indexes">6.3 Индексация</a>

Для повышения производительности запросов в базе данных создаются индексы по следующим полям:

- user_id в таблице reports;
- report_id в таблицах board_items и log_items;
- created_at в таблице reports.

Индексация позволяет ускорить выполнение запросов выборки и аналитических операций.

---

# <a id="implementation">7 Реализация проекта в среде СУБД PostgreSQL</a>

Реализация базы данных выполнена с использованием языка SQL. В данном разделе приведены примеры SQL-запросов для создания таблиц, добавления, изменения и выборки данных.

## <a id="ddl">7.1 Создание таблиц базы данных</a>

### Таблица пользователей

```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(150) UNIQUE NOT NULL,
    password_hash TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```
### Таблица отчётов

```sql
CREATE TABLE reports (
    id SERIAL PRIMARY KEY,
    user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    type VARCHAR(20) CHECK (type IN ('boards', 'logs')),
    title VARCHAR(200) NOT NULL,
    report_date DATE NOT NULL,
    total_volume NUMERIC(12,3),
    total_price NUMERIC(12,2),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```
### Таблица расчётов пиломатериалов
```sql
CREATE TABLE board_items (
    id SERIAL PRIMARY KEY,
    report_id INTEGER NOT NULL REFERENCES reports(id) ON DELETE CASCADE,
    thickness_mm INTEGER NOT NULL,
    width_mm INTEGER NOT NULL,
    length_m NUMERIC(6,2) NOT NULL,
    quantity INTEGER NOT NULL,
    volume NUMERIC(10,3) NOT NULL
);
```
### Таблица расчётов круглого леса
```sql
CREATE TABLE log_items (
    id SERIAL PRIMARY KEY,
    report_id INTEGER NOT NULL REFERENCES reports(id) ON DELETE CASCADE,
    diameter_cm INTEGER NOT NULL,
    length_m NUMERIC(6,2) NOT NULL,
    quantity INTEGER NOT NULL,
    tree_species VARCHAR(100),
    volume NUMERIC(10,3) NOT NULL
);
```
## <a id="insert">7.2 Примеры SQL-запросов добавления данных</a>

### Добавление пользователя
```sql
INSERT INTO users (name, email, password_hash)
VALUES ('Иванов Иван', 'ivanov@example.com', 'hashed_password');
```
### Создание отчёта
```sql
INSERT INTO reports (user_id, type, title, report_date, total_volume, total_price)
VALUES (1, 'logs', 'Отчёт по заготовке леса', CURRENT_DATE, 25.750, 124500.00);
```
### Добавление позиции круглого леса
```sql
INSERT INTO log_items (report_id, diameter_cm, length_m, quantity, tree_species, volume)
VALUES (1, 30, 6.0, 10, 'Сосна', 4.240);
```
### Добавление позиции пиломатериалов
```sql
INSERT INTO board_items (report_id, thickness_mm, width_mm, length_m, quantity, volume)
VALUES (1, 50, 150, 6.0, 20, 0.900);
```
## <a id="select">7.3 Примеры SQL-запросов выборки данных</a>
Получение списка отчётов пользователя

```sql
SELECT title, report_date, total_volume, total_price
FROM reports
WHERE user_id = 1
ORDER BY report_date DESC;
```

Получение позиций отчёта

```sql
SELECT *
FROM log_items
WHERE report_id = 1;
```



## <a id="update-delete">7.4 Примеры SQL-запросов изменения и удаления данных</a>
Обновление данных отчёта
```sql
UPDATE reports
SET total_price = 130000.00
WHERE id = 1;
```

Удаление отчёта

```sql
DELETE FROM reports
WHERE id = 1;
```

# <a id="conclusion">8 Заключение</a>

В ходе выполнения курсовой работы была разработана база данных для лесозаготовительной фирмы, предназначенная для автоматизации учёта расчётов круглого леса и пиломатериалов. В процессе работы были проанализированы требования предметной области, разработаны инфологическая, логическая и физическая структуры базы данных, а также реализованы SQL-запросы для работы с данными.

Разработанная база данных обеспечивает целостность хранения информации, удобство формирования отчётов и возможность аналитической обработки данных. Проектируемая система может быть расширена за счёт добавления новых сущностей и функциональных возможностей.

Поставленная цель курсовой работы достигнута, все задачи успешно выполнены.

---

# <a id="sources">9 Список использованных информационных источников</a>

1. Карпова Т. С. Базы данных: модели, разработка, реализация. — СПб.: Питер, 2021.  
2. Дата К. Дж. Введение в системы баз данных. — М.: Вильямс, 2019.  
3. Элмасри Р., Наватхе Ш. Основы систем баз данных. — М.: Диалектика, 2020.  
4. Петин В. А. PostgreSQL. Основы языка SQL. — СПб.: БХВ-Петербург, 2022.  
5. PostgreSQL Documentation [Электронный ресурс]. — Режим доступа: https://www.postgresql.org/docs/ (дата обращения: 12.12.2025).  
6. Node.js Documentation [Электронный ресурс]. — Режим доступа: https://nodejs.org (дата обращения: 15.12.2025).  
7. Express.js Documentation [Электронный ресурс]. — Режим доступа: https://expressjs.com (дата обращения: 10.12.2025).  
8. ГОСТ Р 7.0.5–2008. Библиографическая ссылка. Общие требования и правила составления.
