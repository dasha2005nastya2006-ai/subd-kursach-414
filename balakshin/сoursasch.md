<div align="center">

<h4>–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –Ω–∞—É–∫–∏ –∏ –º–æ–ª–æ–¥–µ–∂–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ö–æ–º–∏</h4>
<h4>–ì–ü–û–£ ¬´–°—ã–∫—Ç—ã–≤–∫–∞—Ä—Å–∫–∏–π –ø–æ–ª–∏—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Ç–µ—Ö–Ω–∏–∫—É–º¬ª</h4>

<br>

<h2>–ö—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞</h2>

<br>

<h2>–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ë–î –∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>

<br>

</div>

<br><br>

<div align="right">

<b>–≤—ã–ø–æ–ª–Ω–∏–ª:</b><br>
—Å—Ç—É–¥–µ–Ω—Ç 4 –∫—É—Ä—Å–∞<br>
414 –≥—Ä—É–ø–ø—ã<br>
–ë–∞–ª–∞–∫—à–∏–Ω –ú–∏—Ö–∞–∏–ª

<br><br>

<b>–ø—Ä–æ–≤–µ—Ä–∏–ª:</b><br>
–ü—É–Ω–≥–∏–Ω –ò.–í.

<br><br>

<b>–¥–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:</b> ___________

</div>

<br><br><br>

<div align="center">
–°—ã–∫—Ç—ã–≤–∫–∞—Ä, 2025 –≥.
</div>

---

<h2>–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</h2>

<ul>
  <li><a href="#–≤–≤–µ–¥–µ–Ω–∏–µ">–í–≤–µ–¥–µ–Ω–∏–µ</a></li>
  <li>
    <a href="#–≥–ª–∞–≤–∞1-–∞–Ω–∞–ª–∏–∑-–ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π-–æ–±–ª–∞—Å—Ç–∏">1. –ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏. –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏</a>
    <ul>
      <li><a href="#11-–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π-–æ–±–ª–∞—Å—Ç–∏">1.1. –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ—à–∞–µ–º—ã—Ö –∑–∞–¥–∞—á</a></li>
      <li><a href="#12-–ø–µ—Ä–µ—á–µ–Ω—å-–≤—Ö–æ–¥–Ω—ã—Ö-–¥–∞–Ω–Ω—ã—Ö">1.2. –ü–µ—Ä–µ—á–µ–Ω—å –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a></li>
      <li><a href="#13-–ø–µ—Ä–µ—á–µ–Ω—å-–≤—ã—Ö–æ–¥–Ω—ã—Ö-–¥–∞–Ω–Ω—ã—Ö">1.3. –ü–µ—Ä–µ—á–µ–Ω—å –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a></li>
      <li><a href="#14-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π-–æ–±–ª–∞—Å—Ç–∏">1.4. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</a></li>
      <li><a href="#15-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ-—Å-–¥—Ä—É–≥–∏–º–∏-–ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏">1.5. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏</a></li>
    </ul>
  </li>
  <li>
    <a href="#–≥–ª–∞–≤–∞2-–∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è-–º–æ–¥–µ–ª—å">2. –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</a>
    <ul>
      <li><a href="#21-–≤—ã–¥–µ–ª–µ–Ω–∏–µ-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö-–æ–±—ä–µ–∫—Ç–æ–≤">2.1. –í—ã–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</a></li>
      <li><a href="#22-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∞—Ç—Ä–∏–±—É—Ç–æ–≤-–æ–±—ä–µ–∫—Ç–æ–≤">2.2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤</a></li>
      <li><a href="#23-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–æ—Ç–Ω–æ—à–µ–Ω–∏–π">2.3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –∏ –º–æ—â–Ω–æ—Å—Ç–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏</a></li>
      <li><a href="#24-–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ-–∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ–π-–º–æ–¥–µ–ª–∏">2.4. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏</a></li>
    </ul>
  </li>
  <li><a href="#–≥–ª–∞–≤–∞3-–ª–æ–≥–∏—á–µ—Å–∫–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞">3. –õ–æ–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î</a></li>
  <li><a href="#–≥–ª–∞–≤–∞4-—Ñ–∏–∑–∏—á–µ—Å–∫–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞">4. –§–∏–∑–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</a></li>
  <li>
    <a href="#–≥–ª–∞–≤–∞5-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø—Ä–æ–µ–∫—Ç–∞">5. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Å—Ä–µ–¥–µ PostgreSQL</a>
    <ul>
      <li><a href="#51-—Å–æ–∑–¥–∞–Ω–∏–µ-—Ç–∞–±–ª–∏—Ü">5.1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü</a></li>
      <li><a href="#52-—Å–æ–∑–¥–∞–Ω–∏–µ-–∑–∞–ø—Ä–æ—Å–æ–≤">5.2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤</a></li>
      <li><a href="#53-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞">5.3. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</a></li>
      <li><a href="#54-–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ-–ø—Ä–∞–≤-–¥–æ—Å—Ç—É–ø–∞">5.4. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞</a></li>
      <li><a href="#55-—Å–æ–∑–¥–∞–Ω–∏–µ-–∏–Ω–¥–µ–∫—Å–æ–≤">5.5. –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤</a></li>
      <li><a href="#56-—Ä–µ–∑–µ—Ä–≤–Ω–æ–µ-–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ">5.6. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</a></li>
      <li><a href="#57-–∑–∞—â–∏—Ç–∞-–¥–∞–Ω–Ω—ã—Ö">5.7. –ó–∞—â–∏—Ç–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</a></li>
      <li><a href="#58-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞-api">5.8. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API</a></li>
    </ul>
  </li>
  <li><a href="#–∑–∞–∫–ª—é—á–µ–Ω–∏–µ">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></li>
  <li><a href="#—Å–ø–∏—Å–æ–∫-–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã">–°–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤</a></li>
  <li><a href="#–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–±">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ë. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</a></li>
</ul>

---

<h2 id="–≤–≤–µ–¥–µ–Ω–∏–µ">–í–≤–µ–¥–µ–Ω–∏–µ</h2>

<p>–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–Ω–∞–Ω–∏–π —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º. –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
<ul>
  <li>—Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã;</li>
  <li>–ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏;</li>
  <li>—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –±–∞–ª–ª—ã;</li>
  <li>—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.</li>
</ul>

<p><b>–¶–µ–ª—å –∫—É—Ä—Å–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã:</b> —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL, backend –Ω–∞ Node.js –∏ frontend –Ω–∞ TypeScript/JavaScript –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.</p>

<p><b>–ó–∞–¥–∞—á–∏ —Ä–∞–±–æ—Ç—ã:</b></p>
<ul>
  <li>–ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π;</li>
  <li>–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ–π, –ª–æ–≥–∏—á–µ—Å–∫–æ–π –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö;</li>
  <li>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ backend API;</li>
  <li>–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;</li>
  <li>–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.</li>
</ul>

---

<h2 id="–≥–ª–∞–≤–∞1-–∞–Ω–∞–ª–∏–∑-–ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π-–æ–±–ª–∞—Å—Ç–∏">1. –ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏. –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏</h2>

<h3 id="11-–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π-–æ–±–ª–∞—Å—Ç–∏">1.1. –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ—à–∞–µ–º—ã—Ö –∑–∞–¥–∞—á</h3>
<p>–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ –∏ —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á–∏:</p>
<ul>
  <li>—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (—Å—Ç—É–¥–µ–Ω—Ç—ã, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã);</li>
  <li>—Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤;</li>
  <li>–ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏;</li>
  <li>—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ —Ä–∞—Å—á–µ—Ç –±–∞–ª–ª–æ–≤;</li>
  <li>—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ –ø–æ —Ç–µ—Å—Ç–∞–º.</li>
</ul>

<h3 id="12-–ø–µ—Ä–µ—á–µ–Ω—å-–≤—Ö–æ–¥–Ω—ã—Ö-–¥–∞–Ω–Ω—ã—Ö">1.2. –ü–µ—Ä–µ—á–µ–Ω—å –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</h3>
<ul>
  <li>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: email, –ø–∞—Ä–æ–ª—å, –§–ò–û, —Ä–æ–ª—å;</li>
  <li>–ö—É—Ä—Å—ã –∏ –≥—Ä—É–ø–ø—ã: –Ω–∞–∑–≤–∞–Ω–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ, —Å–≤—è–∑—å —Å–æ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏;</li>
  <li>–¢–µ—Å—Ç—ã: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –≤–æ–ø—Ä–æ—Å—ã;</li>
  <li>–í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã: —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞, –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç;</li>
  <li>–ü–æ–ø—ã—Ç–∫–∏ —Ç–µ—Å—Ç–æ–≤ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –∏—Ö –æ—Ç–≤–µ—Ç—ã.</li>
</ul>

<h3 id="13-–ø–µ—Ä–µ—á–µ–Ω—å-–≤—ã—Ö–æ–¥–Ω—ã—Ö-–¥–∞–Ω–Ω—ã—Ö">1.3. –ü–µ—Ä–µ—á–µ–Ω—å –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</h3>
<ul>
  <li>–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤;</li>
  <li>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ—Å—Ç–µ –∏ –≤–æ–ø—Ä–æ—Å–∞—Ö –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è;</li>
  <li>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–ø—ã—Ç–æ–∫ —Ç–µ—Å—Ç–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–º;</li>
  <li>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–µ—Å—Ç–∞–º –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è.</li>
</ul>

<h3 id="14-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π-–æ–±–ª–∞—Å—Ç–∏">1.4. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</h3>
<ul>
  <li>–û–¥–∏–Ω —Å—Ç—É–¥–µ–Ω—Ç –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≥—Ä—É–ø–ø–∞—Ö;</li>
  <li>–û–¥–∏–Ω –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤;</li>
  <li>–í–æ–ø—Ä–æ—Å –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞, –Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –¥–ª—è —Ç–∏–ø–∞ "single";</li>
  <li>–¢–µ—Å—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –∏–ª–∏ –Ω–µ—Ç.</li>
</ul>

<h3 id="15-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ-—Å-–¥—Ä—É–≥–∏–º–∏-–ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏">1.5. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏</h3>
<ul>
  <li>API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞;</li>
  <li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π;</li>
  <li>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏.</li>
</ul>

---

<h2 id="–≥–ª–∞–≤–∞2-–∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è-–º–æ–¥–µ–ª—å">2. –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</h2>

<h3 id="21-–≤—ã–¥–µ–ª–µ–Ω–∏–µ-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö-–æ–±—ä–µ–∫—Ç–æ–≤">2.1. –í—ã–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</h3>
<ul>
  <li>User ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∏—Å—Ç–µ–º—ã;</li>
  <li>Role ‚Äî —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;</li>
  <li>Course ‚Äî —É—á–µ–±–Ω—ã–π –∫—É—Ä—Å;</li>
  <li>Group ‚Äî —É—á–µ–±–Ω–∞—è –≥—Ä—É–ø–ø–∞;</li>
  <li>Test ‚Äî —Ç–µ—Å—Ç;</li>
  <li>Question ‚Äî –≤–æ–ø—Ä–æ—Å;</li>
  <li>Answer ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞;</li>
  <li>TestAttempt ‚Äî –ø–æ–ø—ã—Ç–∫–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞;</li>
  <li>StudentAnswer ‚Äî –æ—Ç–≤–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å.</li>
</ul>

<h3 id="22-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∞—Ç—Ä–∏–±—É—Ç–æ–≤-–æ–±—ä–µ–∫—Ç–æ–≤">2.2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤</h3>

<table>
<tr><th>–°—É—â–Ω–æ—Å—Ç—å</th><th>–ê—Ç—Ä–∏–±—É—Ç—ã</th></tr>
<tr><td>User</td><td>id, email, password_hash, full_name, role_id, created_at</td></tr>
<tr><td>Role</td><td>id, name</td></tr>
<tr><td>Course</td><td>id, title, description</td></tr>
<tr><td>Group</td><td>id, name, course_id</td></tr>
<tr><td>Test</td><td>id, title, description, teacher_id, duration_minutes, is_published, created_at</td></tr>
<tr><td>Question</td><td>id, test_id, text, type, points</td></tr>
<tr><td>Answer</td><td>id, question_id, text, is_correct</td></tr>
<tr><td>TestAttempt</td><td>id, test_id, student_id, started_at, finished_at, score</td></tr>
<tr><td>StudentAnswer</td><td>attempt_id, question_id, answer_id, text_answer</td></tr>
</table>

<h3 id="23-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–æ—Ç–Ω–æ—à–µ–Ω–∏–π">2.3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π</h3>
<ul>
  <li>Role ‚Üí User (1:N)</li>
  <li>Course ‚Üí Group (1:N)</li>
  <li>Group ‚Üí User (M:N —á–µ—Ä–µ–∑ group_students)</li>
  <li>Test ‚Üí Question (1:N)</li>
  <li>Question ‚Üí Answer (1:N)</li>
  <li>Test ‚Üí TestAttempt (1:N)</li>
  <li>TestAttempt ‚Üí StudentAnswer (1:N)</li>
</ul>
---

<h2 id="–≥–ª–∞–≤–∞3-–ª–æ–≥–∏—á–µ—Å–∫–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞">3. –õ–æ–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î</h2>

<p>–õ–æ–≥–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—É—é —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ —Ç—Ä–µ—Ç—å–µ–π –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ (3–ù–§).</p>

<h3>3.1. –¢–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</h3>

<code>
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(256) NOT NULL,
    full_name VARCHAR(200) NOT NULL,
    role_id INTEGER REFERENCES roles(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –¢–∞–±–ª–∏—Ü–∞ —Ä–æ–ª–µ–π
CREATE TABLE roles (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL
);

-- –¢–∞–±–ª–∏—Ü–∞ –∫—É—Ä—Å–æ–≤
CREATE TABLE courses (
    id SERIAL PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    description TEXT
);

-- –¢–∞–±–ª–∏—Ü–∞ –≥—Ä—É–ø–ø
CREATE TABLE groups (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    course_id INTEGER REFERENCES courses(id)
);

-- –¢–∞–±–ª–∏—Ü–∞ —Ç–µ—Å—Ç–æ–≤
CREATE TABLE tests (
    id SERIAL PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    description TEXT,
    teacher_id INTEGER REFERENCES users(id),
    duration_minutes INTEGER,
    is_published BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –¢–∞–±–ª–∏—Ü–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
CREATE TABLE questions (
    id SERIAL PRIMARY KEY,
    test_id INTEGER REFERENCES tests(id),
    text TEXT NOT NULL,
    type VARCHAR(20) CHECK (type IN ('single','multiple','text')),
    points INTEGER DEFAULT 1
);

-- –¢–∞–±–ª–∏—Ü–∞ –æ—Ç–≤–µ—Ç–æ–≤
CREATE TABLE answers (
    id SERIAL PRIMARY KEY,
    question_id INTEGER REFERENCES questions(id),
    text TEXT NOT NULL,
    is_correct BOOLEAN DEFAULT FALSE
);

-- –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞
CREATE TABLE test_attempts (
    id SERIAL PRIMARY KEY,
    test_id INTEGER REFERENCES tests(id),
    student_id INTEGER REFERENCES users(id),
    started_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    finished_at TIMESTAMP,
    score NUMERIC(5,2)
);

-- –¢–∞–±–ª–∏—Ü–∞ –æ—Ç–≤–µ—Ç–æ–≤ —Å—Ç—É–¥–µ–Ω—Ç–∞
CREATE TABLE student_answers (
    attempt_id INTEGER REFERENCES test_attempts(id),
    question_id INTEGER REFERENCES questions(id),
    answer_id INTEGER REFERENCES answers(id),
    text_answer TEXT,
    PRIMARY KEY (attempt_id, question_id)
);
</code>

<h3>3.2. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è</h3> 
<ul> 
    <li>–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∫ 3–ù–§.</li> 
    <li>–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –≥—Ä—É–ø–ø—ã –¥–∞–Ω–Ω—ã—Ö.</li> 
    <li>–í—Å–µ –Ω–µ–∫–ª—é—á–µ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∑–∞–≤–∏—Å—è—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞.</li> 
    <li>–ù–µ—Ç —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.</li> 
</ul>

<h2 id="–≥–ª–∞–≤–∞4-—Ñ–∏–∑–∏—á–µ—Å–∫–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞">4. –§–∏–∑–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</h2> 

<h3>4.1. –í—ã–±–æ—Ä –°–£–ë–î</h3> 
<p>–í—ã–±—Ä–∞–Ω–∞ –°–£–ë–î <strong>PostgreSQL 14+</strong> –∑–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.</p> 

<h3>4.2. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö</h3>
<table>
    <tr><th>–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö</th><th>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</th></tr>
    <tr><td>SERIAL</td><td>–ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω—ã–µ –ø–µ—Ä–≤–∏—á–Ω—ã–µ –∫–ª—é—á–∏</td></tr>
    <tr><td>INTEGER</td><td>–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ª–∞–¥—ã, –≥–æ–¥)</td></tr>
    <tr><td>DECIMAL(10,2)</td><td>–î–µ–Ω–µ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –∫–æ–ø–µ–µ–∫</td></tr>
    <tr><td>VARCHAR</td><td>–¢–µ–∫—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª–∏–Ω—ã</td></tr>
    <tr><td>TEXT</td><td>–î–ª–∏–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è</td></tr>
    <tr><td>DATE/TIMESTAMP</td><td>–î–∞—Ç—ã –∏ –≤—Ä–µ–º—è</td></tr>
</table>

<h3>4.3. –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è</h3> 
<ul> 
    <li>–ü–æ–ª–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ —Ä–∞–∑ –≤ –¥–µ–Ω—å –≤ 02:00</li> 
    <li>–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω—ã–µ –∫–æ–ø–∏–∏ –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞</li> <li>–•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∏ –æ–±–ª–∞–∫–µ</li> 
    <li>–†–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è</li> 
</ul> 

<h3>4.4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö</h3> 
<ul> 
    <li>–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π bcrypt</li> 
    <li>–†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–∞ (admin, teacher, student, viewer)</li> 
    <li>SSL-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π</li> 
    <li>–ê—É–¥–∏—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li> 
</ul>

<h2 id="–≥–ª–∞–≤–∞5-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø—Ä–æ–µ–∫—Ç–∞">5. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Å—Ä–µ–¥–µ PostgreSQL</h2> 
<h3 id="51-—Å–æ–∑–¥–∞–Ω–∏–µ-—Ç–∞–±–ª–∏—Ü">5.1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü</h3> 
<p>–ü—Ä–∏–º–µ—Ä—ã SQL –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (—Å–º. –≤—ã—à–µ).</p> 

<h3 id="52-—Å–æ–∑–¥–∞–Ω–∏–µ-–∑–∞–ø—Ä–æ—Å–æ–≤">5.2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤</h3>
<code>
-- –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ —Å—Ç—É–¥–µ–Ω—Ç–∞
SELECT t.id, t.title, t.is_published
FROM tests t
JOIN test_attempts ta ON t.id = ta.test_id
WHERE ta.student_id = 1;

-- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞
SELECT ta.id, u.full_name, ta.score
FROM test_attempts ta
JOIN users u ON ta.student_id = u.id
WHERE ta.test_id = 2;

-- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ø-5 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø–æ —Å—Ä–µ–¥–Ω–µ–º—É –±–∞–ª–ª—É
SELECT u.full_name, AVG(ta.score) AS avg_score
FROM test_attempts ta
JOIN users u ON ta.student_id = u.id
GROUP BY u.id
ORDER BY avg_score DESC
LIMIT 5;
</code>

<h3 id="53-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞">5.3. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</h3> 
<ul> 
    <li>Frontend: HTML/CSS/JS + Bootstrap</li> 
    <li>Backend: Node.js + Express + PostgreSQL</li> 
    <li>JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</li> 
    <li>REST API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º</li> 
</ul> 

<h3 id="54-–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ-–ø—Ä–∞–≤-–¥–æ—Å—Ç—É–ø–∞">5.4. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞</h3>
<code>
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–µ–π –≤ PostgreSQL
CREATE ROLE admin LOGIN PASSWORD 'admin123';
CREATE ROLE teacher LOGIN PASSWORD 'teacher123';
CREATE ROLE student LOGIN PASSWORD 'student123';
CREATE ROLE viewer LOGIN PASSWORD 'viewer123';
</code>

<h3 id="55-—Å–æ–∑–¥–∞–Ω–∏–µ-–∏–Ω–¥–µ–∫—Å–æ–≤">5.5. –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤</h3>
<code>
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_tests_teacher ON tests(teacher_id);
CREATE INDEX idx_test_attempts_student ON test_attempts(student_id);
CREATE INDEX idx_questions_test ON questions(test_id);
</code>
<h3 id="56-—Ä–µ–∑–µ—Ä–≤–Ω–æ–µ-–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ">5.6. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
<code>
#!/bin/bash
BACKUP_DIR="/var/backups/postgresql"
DATE=$(date +%Y%m%d_%H%M%S)
DB_NAME="test_system"

pg_dump -U postgres -F c -b -v -f "$BACKUP_DIR/full_$DATE.backup" $DB_NAME
find $BACKUP_DIR -name "*.backup" -mtime +30 -delete
</code>

<h3 id="57-–∑–∞—â–∏—Ç–∞-–¥–∞–Ω–Ω—ã—Ö">5.7. –ó–∞—â–∏—Ç–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</h3> 
<ul> 
    <li>–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π bcrypt</li> 
    <li>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –ø–æ IP</li> 
    <li>–†–µ–≥—É–ª—è—Ä–Ω–∞—è —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª–µ–π</li> 
    <li>–ê—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li> 
</ul> 

<h3 id="58-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞-api">5.8. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API</h3>
<code>
type Answer = { id: number; text: string };
type Question = { id: number; text: string; answers: Answer[] };
type Test = { id: number; title: string; questions: Question[] };
type LoginResponse = { token: string; role: string };

const API_URL = 'http://localhost:3001/api';

export const api = {
  login: async (email: string, password: string): Promise<LoginResponse> => {
    try {
      const res = await fetch(`${API_URL}/auth/login`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email, password }),
      });
      if (!res.ok) throw new Error('Backend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
      return await res.json();
    } catch {
      return { token: 'offline-token', role: 'student' };
    }
  },

  getTests: async (): Promise<Test[]> => {
    try {
      const res = await fetch(`${API_URL}/tests`);
      if (!res.ok) throw new Error('Backend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
      return await res.json();
    } catch {
      return [
        { id: 1, title: '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', questions: [{ id: 101, text: '2+2=?', answers: [{ id: 1, text: '3' }, { id: 2, text: '4' }, { id: 3, text: '5' }] }] },
        { id: 2, title: '–ò—Å—Ç–æ—Ä–∏—è', questions: [{ id: 201, text: '–°—Ç–æ–ª–∏—Ü–∞ –§—Ä–∞–Ω—Ü–∏–∏?', answers: [{ id: 1, text: '–ü–∞—Ä–∏–∂' }, { id: 2, text: '–õ–æ–Ω–¥–æ–Ω' }, { id: 3, text: '–ë–µ—Ä–ª–∏–Ω' }] }] },
      ];
    }
  },

  getTest: async (id: number): Promise<Test> => {
    try {
      const res = await fetch(`${API_URL}/tests/${id}`);
      if (!res.ok) throw new Error('Backend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
      return await res.json();
    } catch {
      const offlineTests = await api.getTests();
      return offlineTests.find(t => t.id === id) || offlineTests[0];
    }
  },

  submitAttempt: async (testId: number, answers: Record<number, number>): Promise<{ success: boolean; attemptId: number }> => {
    try {
      const res = await fetch(`${API_URL}/attempts`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ testId, studentId: 1, answers }),
      });
      if (!res.ok) throw new Error('Backend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
      return await res.json();
    } catch {
      console.log('–û—Ç–≤–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –æ—Ñ—Ñ–ª–∞–π–Ω:', answers);
      return { success: true, attemptId: 0 };
    }
  },
};

</code>

<h2 id="–∑–∞–∫–ª—é—á–µ–Ω–∏–µ">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</h2> 
<p>–í —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã –±—ã–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL. –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:</p> 
<ol> 
    <li>–ü—Ä–æ–≤–µ–¥–µ–Ω –∞–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è;</li> 
    <li>–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å —Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ —Å–≤—è–∑–µ–π;</li> 
    <li>–°–æ–∑–¥–∞–Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (3–ù–§);</li> 
    <li>–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –≤—ã–±–æ—Ä–æ–º —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω–¥–µ–∫—Å–æ–≤;</li> 
    <li>–°–æ–∑–¥–∞–Ω—ã SQL-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π;</li> 
    <li>–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω backend API –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å;</li> 
    <li>–í–Ω–µ–¥—Ä–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è;</li> 
    <li>–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –Ω–æ–≤—ã–º–∏ –º–æ–¥—É–ª—è–º–∏.</li> 
</ol>
<p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã:</strong></p>
<ul>
    <li>–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î (3–ù–§)</li>
    <li>–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —É—á–µ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</li>
    <li>–û–±–µ—Å–ø–µ—á–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —Ä–æ–ª–µ–≤—É—é –º–æ–¥–µ–ª—å</li>
    <li>–°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É</li>
</ul>

<h2 id="—Å–ø–∏—Å–æ–∫-–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã">–°–ø–∏—Å–æ–∫ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã</h2>

<ol>
    <li>PostgreSQL Documentation. [–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å]. URL: https://www.postgresql.org/docs/</li>
    <li>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è JavaScript. [–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å]. URl: https://developer.mozilla.org/ru/docs/Web/JavaScript</li>
    <li>–ì–∞—Ä—Å–∏–∞-–ú–æ–ª–∏–Ω–∞ –ì., –£–ª—å–º–∞–Ω –î., –£–∏–¥–æ–º –î–∂. –°–∏—Å—Ç–µ–º—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö. –ü–æ–ª–Ω—ã–π –∫—É—Ä—Å. ‚Äì –ú.: –í–∏–ª—å—è–º—Å, 2019. ‚Äì 1088 —Å.</li>
    <li>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Typescript. [–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å]. URl: https://www.typescriptlang.org/docs/</li>
    <li>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ SQL. [–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å]. URL: https://www.w3schools.com/sql/</li>
</ol>

<h2 id="–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–ê">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ê</h2> 
<h3>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã</h3> 
<p>–ü—Ä–∏–≤–æ–¥–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü, –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –∑–∞–ø—Ä–æ—Å–æ–≤:</p>
<code>
CREATE TABLE roles (
id SERIAL PRIMARY KEY,
name VARCHAR(50) UNIQUE NOT NULL
);


CREATE TABLE users (
id SERIAL PRIMARY KEY,
email VARCHAR(255) UNIQUE NOT NULL,
password_hash TEXT NOT NULL,
full_name VARCHAR(255) NOT NULL,
role_id INT REFERENCES roles(id),
created_at TIMESTAMP DEFAULT now()
);

CREATE TABLE courses (
id SERIAL PRIMARY KEY,
title VARCHAR(255) NOT NULL,
description TEXT
);


CREATE TABLE groups (
id SERIAL PRIMARY KEY,
name VARCHAR(100) NOT NULL,
course_id INT REFERENCES courses(id)
);


CREATE TABLE group_students (
group_id INT REFERENCES groups(id),
student_id INT REFERENCES users(id),
PRIMARY KEY (group_id, student_id)
);

CREATE TABLE tests (
id SERIAL PRIMARY KEY,
title VARCHAR(255) NOT NULL,
description TEXT,
teacher_id INT REFERENCES users(id),
duration_minutes INT,
is_published BOOLEAN DEFAULT false,
created_at TIMESTAMP DEFAULT now()
);

CREATE TABLE questions (
id SERIAL PRIMARY KEY,
test_id INT REFERENCES tests(id) ON DELETE CASCADE,
text TEXT NOT NULL,
type VARCHAR(50) CHECK (type IN ('single', 'multiple', 'text')),
points INT DEFAULT 1
);

CREATE TABLE answers (
id SERIAL PRIMARY KEY,
question_id INT REFERENCES questions(id) ON DELETE CASCADE,
text TEXT NOT NULL,
is_correct BOOLEAN DEFAULT false
);

CREATE TABLE test_attempts (
id SERIAL PRIMARY KEY,
test_id INT REFERENCES tests(id),
student_id INT REFERENCES users(id),
started_at TIMESTAMP DEFAULT now(),
finished_at TIMESTAMP,
score INT
);

CREATE TABLE student_answers (
attempt_id INT REFERENCES test_attempts(id) ON DELETE CASCADE,
question_id INT REFERENCES questions(id),
answer_id INT REFERENCES answers(id),
text_answer TEXT,
PRIMARY KEY (attempt_id, question_id, answer_id)
);

CREATE INDEX idx_users_role ON users(role_id);
CREATE INDEX idx_tests_teacher ON tests(teacher_id);
CREATE INDEX idx_attempts_student ON test_attempts(student_id);

-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
INSERT INTO users (email, password_hash, full_name, role_id)
VALUES ('student1@mail.com', 'hash1', '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤', 3),
       ('teacher1@mail.com', 'hash2', '–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞', 2);

-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞ –∏ –≥—Ä—É–ø–ø—ã
INSERT INTO courses (title, description) VALUES ('–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö—É—Ä—Å –ø–æ –∞–ª–≥–µ–±—Ä–µ');
INSERT INTO groups (name, course_id) VALUES ('–ì—Ä—É–ø–ø–∞ –ê', 1);

-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –∏ –≤–æ–ø—Ä–æ—Å–æ–≤
INSERT INTO tests (title, teacher_id, duration_minutes, is_published)
VALUES ('–¢–µ—Å—Ç 1', 2, 30, TRUE);

INSERT INTO questions (test_id, text, type, points)
VALUES (1, '2+2=?', 'single', 1);

INSERT INTO answers (question_id, text, is_correct)
VALUES (1, '4', TRUE), (1, '5', FALSE);

-- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ø—ã—Ç–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞
INSERT INTO test_attempts (test_id, student_id, score)
VALUES (1, 1, 1);

-- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞
SELECT u.full_name, ta.score
FROM test_attempts ta
JOIN users u ON ta.student_id = u.id
WHERE ta.test_id = 1;
</code>


<h2 id="–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–±">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ë</h2>

<h3>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.
 
  
  
  –°–∞–º –∫–æ–¥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –º–æ–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ë–î —Ü–µ–Ω—Ç—Ä–∞ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.
 
  
  
  (–ü—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞  –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –†–¶–û.)</h3>

<code>
//frontend state.ts

export const state = {
  token: null as string | null,
  userRole: 'student',
  answers: {} as Record<number, number> // questionId -> answerId
};

// frontend router.ts

import { renderLogin } from './pages/login.js';
import { renderDashboard } from './pages/dashboard.js';
import { renderTests } from './pages/tests.js';
import { renderPassTest } from './pages/passTest.js';
import { renderResults } from './pages/results.js';


export function router() {
const path = location.hash.slice(1) || '/login';


if (path === '/login') renderLogin();
else if (path === '/dashboard') renderDashboard();
else if (path === '/tests') renderTests();
else if (path.startsWith('/tests/')) renderPassTest(+path.split('/')[2]);
else if (path === '/results') renderResults();
}

// frontend main.ts

import { router } from './router.js';
import { state } from './state.js';

window.addEventListener('hashchange', router);
window.addEventListener('load', router);

(window as any).saveAnswer = (questionId: number, answerId: number) => {
  state.answers[questionId] = answerId;
};

// frontend api.ts

export const api = {
login: async (email: string, password: string) => {
return { token: 'mock-token', role: 'student' };
},


getTests: async () => [
{ id: 1, title: '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', duration: 30 },
{ id: 2, title: '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', duration: 25 }
],


getTest: async (id: number) => ({
id,
title: '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞',
questions: [
{
id: 1,
text: '2 + 2 = ?',
answers: [
{ id: 1, text: '3' },
{ id: 2, text: '4' }
]
}
]
})
};

// frontend/pages tests.ts

import { api } from '../api.js';
import { layout } from '../components/layout.js';


export async function renderTests() {
const tests = await api.getTests();
const html = tests.map(t => `
<div class="card">
<h3>${t.title}</h3>
<p>–í—Ä–µ–º—è: ${t.duration} –º–∏–Ω</p>
<a href="#/tests/${t.id}">–ù–∞—á–∞—Ç—å</a>
</div>
`).join('');


document.getElementById('app')!.innerHTML = layout(html);
}

// frontend/pages results.ts

import { layout } from '../components/layout.js';
import { state } from '../state.js';

export function renderResults() {
  const answersHtml = Object.entries(state.answers)
    .map(([q, a]) => `<li>–í–æ–ø—Ä–æ—Å ${q}: –æ—Ç–≤–µ—Ç ${a}</li>`)
    .join('');

  document.getElementById('app')!.innerHTML = layout(`
    <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
    <ul>${answersHtml}</ul>
  `);
}

// frontend/pages passTest.ts

import { api } from '../api.js';
import { layout } from '../components/layout.js';
import { questionBlock } from '../components/question.js';
import { state } from '../state.js';

export async function renderPassTest(id: number) {
  const test = await api.getTest(id);

  document.getElementById('app')!.innerHTML = layout(`
    <h2>${test.title}</h2>
    ${test.questions.map(questionBlock).join('')}
    <button class="btn-primary" id="finishBtn">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
  `);

  document.getElementById('finishBtn')!.onclick = () => {
    console.log('–û—Ç–≤–µ—Ç—ã —Å—Ç—É–¥–µ–Ω—Ç–∞:', state.answers);

    // üëâ —Ç—É—Ç –ø–æ–∑–∂–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ backend
    location.hash = '/results';
  };
}

// frontend/pages login.ts

import { api } from '../api.js';
import { state } from '../state.js';
export function renderLogin() {
const app = document.getElementById('app')!;
app.innerHTML = `<div class="card" style="max-width:400px;margin:100px auto">
<h2>–í—Ö–æ–¥</h2>
<input id="email" placeholder="Email" /><br/><br/>
<input id="pass" type="password" placeholder="–ü–∞—Ä–æ–ª—å" /><br/><br/>
<button class="btn-primary" id="loginBtn">–í–æ–π—Ç–∏</button>
</div>`;
document.getElementById('loginBtn')!.onclick = async () => {
const email = (document.getElementById('email') as HTMLInputElement).value;
const pass = (document.getElementById('pass') as HTMLInputElement).value;
const res = await api.login(email, pass);
state.token = res.token;
state.userRole = res.role;
location.hash = '/dashboard';
};
}

import { api } from '../api.js';
import { layout } from '../components/layout.js';

export async function renderDashboard() {
  const app = document.getElementById('app')!;
  const tests = await api.getTests();
  app.innerHTML = layout(`
    <h2>–°–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤</h2>
    <ul>
      ${tests.map(t => `<li><a href="#/passTest/${t.id}">${t.title}</a></li>`).join('')}
    </ul>
  `);
}

// frontend/components testCard.ts 

export function testCard(test: { id: number; title: string; duration: number }) {
  return `
    <div class="card">
      <h3>${test.title}</h3>
      <p>–í—Ä–µ–º—è: ${test.duration} –º–∏–Ω</p>
      <a href="#/tests/${test.id}">–ù–∞—á–∞—Ç—å</a>
    </div>
  `;
}

// frontend/components question.ts

import { state } from '../state.js';

export function questionBlock(question: {
  id: number;
  text: string;
  answers: { id: number; text: string }[];
}) {
  return `
    <div class="card">
      <strong>${question.text}</strong>
      ${question.answers
        .map(
          a => `
            <div>
              <label>
                <input 
                  type="radio" 
                  name="q${question.id}" 
                  value="${a.id}"
                  onchange="window.saveAnswer(${question.id}, ${a.id})"
                />
                ${a.text}
              </label>
            </div>
          `
        )
        .join('')}
    </div>
  `;
}

// frontend/components layout.ts

export function layout(content: string) {
return `
<div class="layout">
<div class="sidebar">
<h2>Test System</h2>
<a href="#/dashboard">–ì–ª–∞–≤–Ω–∞—è</a>
<a href="#/tests">–¢–µ—Å—Ç—ã</a>
<a href="#/results">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</a>
</div>
<div class="content">${content}</div>
</div>
`;
}

// backend index.js

import express from 'express';
import cors from 'cors';


import testsRoutes from './routes/tests.js';
import attemptsRoutes from './routes/attempts.js';


const app = express();
app.use(cors());
app.use(express.json());


app.use('/api/tests', testsRoutes);
app.use('/api/attempts', attemptsRoutes);


app.listen(3001, () => {
console.log('Backend started on http://localhost:3001');
});

// backend db.js

import pkg from 'pg';
const { Pool } = pkg;


export const pool = new Pool({
user: 'postgres',
password: 'password',
host: 'localhost',
port: 5432,
database: 'testing_system'
});

// backend/routes tests.js

import { Router } from 'express';
import { pool } from '../db.js';


const router = Router();


// –í—Å–µ —Ç–µ—Å—Ç—ã
router.get('/', async (req, res) => {
const { rows } = await pool.query(
'SELECT id, title, duration_minutes FROM tests WHERE is_published = true'
);
res.json(rows);
});


// –û–¥–∏–Ω —Ç–µ—Å—Ç —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏
router.get('/:id', async (req, res) => {
const testId = req.params.id;


const test = await pool.query(
'SELECT id, title FROM tests WHERE id = $1',
[testId]
);


const questions = await pool.query(`
SELECT q.id, q.text,
json_agg(json_build_object('id', a.id, 'text', a.text)) AS answers
FROM questions q
JOIN answers a ON a.question_id = q.id
WHERE q.test_id = $1
GROUP BY q.id
`, [testId]);


res.json({
...test.rows[0],
questions: questions.rows
});
});


export default router;

// backend/routes auth.js

import { Router } from 'express';
import { pool } from '../db.js';
import bcrypt from 'bcrypt';
import jwt from 'jsonwebtoken';


const router = Router();
const SECRET = 'your_secret_key';


// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
router.post('/register', async (req, res) => {
const { email, password, role } = req.body;
const hash = await bcrypt.hash(password, 10);


try {
const result = await pool.query(
'INSERT INTO users(email, password, role) VALUES($1,$2,$3) RETURNING id, email, role',
[email, hash, role]
);
res.json(result.rows[0]);
} catch (err) {
res.status(400).json({ error: err.message });
}
});


// –õ–æ–≥–∏–Ω
router.post('/login', async (req, res) => {
const { email, password } = req.body;
try {
const result = await pool.query('SELECT * FROM users WHERE email = $1', [email]);
const user = result.rows[0];
if (!user) return res.status(400).json({ error: 'User not found' });


const match = await bcrypt.compare(password, user.password);
if (!match) return res.status(400).json({ error: 'Wrong password' });


const token = jwt.sign({ id: user.id, role: user.role }, SECRET, { expiresIn: '2h' });
res.json({ token, role: user.role });
} catch (err) {
res.status(500).json({ error: err.message });
}
});


export default router;

// backend/routes attempts.js

import { Router } from 'express';
import { pool } from '../db.js';


const router = Router();


router.post('/', async (req, res) => {
const { testId, studentId, answers } = req.body;


const attempt = await pool.query(
'INSERT INTO test_attempts(test_id, student_id) VALUES($1,$2) RETURNING id',
[testId, studentId]
);


const attemptId = attempt.rows[0].id;


for (const [questionId, answerId] of Object.entries(answers)) {
await pool.query(
'INSERT INTO student_answers(attempt_id, question_id, answer_id) VALUES($1,$2,$3)',
[attemptId, questionId, answerId]
);
}


res.json({ success: true, attemptId });
});


export default router;

</code>